// ============================================
// Rogue Trader Weapon Sheet & Card Styles
// ============================================
// Modern, information-dense weapon display system
// Uses theme-aware CSS custom properties

// ============================================
// WEAPON SHEET V3 - Modern Single-Page Redesign
// ============================================

.rt-weapon-sheet-v3 {
    display: flex;
    flex-direction: column;
    height: 100%;
    background: linear-gradient(150deg, rgba(10, 12, 18, 0.97) 0%, rgba(36, 26, 20, 0.92) 100%);
    color: var(--rt-text-dark);
    font-family: $rt-font-body;
    font-size: 0.875rem;
    overflow: hidden;

    // Enable container queries for responsive layout
    .window-content {
        container-type: inline-size;
    }

    form {
        display: flex;
        flex-direction: column;
        flex: 1;
        min-height: 0;
        overflow: hidden;
    }

    // ── Sticky Header Container ──────────────────────────────────────────
    .rt-weapon-sticky-header {
        position: sticky;
        top: 0;
        z-index: 20;
        flex-shrink: 0;
        padding: 0 12px 12px;
        background: linear-gradient(150deg, rgba(10, 12, 18, 0.98) 0%, rgba(36, 26, 20, 0.95) 100%);
        border-bottom: 1px solid rgba(212, 175, 55, 0.2);
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
    }

    // ── Header ───────────────────────────────────────────────────────────
    .rt-weapon-header {
        display: grid;
        grid-template-columns: 48px 1fr auto;
        align-items: center;
        gap: 10px;
        padding: 10px 12px;
    }

    .rt-weapon-header .rt-item-image {
        width: 48px;
        height: 48px;
        border-radius: 6px;
        border: 2px solid rgba(212, 175, 55, 0.5);
        overflow: hidden;
        cursor: pointer;
        transition: all 0.2s ease;

        &:hover {
            border-color: rgba(212, 175, 55, 0.8);
            box-shadow: 0 0 12px rgba(212, 175, 55, 0.3);
        }

        img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    }

    .rt-item-title__name {
        font-family: $rt-font-heading;
        font-size: 1.1rem;
        font-weight: 600;
        color: rgba(240, 232, 220, 0.95);
        margin: 0;
        line-height: 1.2;

        &--readonly {
            padding: 0;
        }
    }

    input.rt-item-title__name {
        background: rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(212, 175, 55, 0.3);
        border-radius: 4px;
        padding: 4px 8px;
        width: 100%;

        &:focus {
            outline: none;
            border-color: var(--rt-gold);
            box-shadow: 0 0 0 2px rgba(212, 175, 55, 0.2);
        }
    }

    .rt-weapon-meta {
        display: flex;
        flex-wrap: wrap;
        gap: 4px;
        margin-top: 4px;
    }

    .rt-meta-badge {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        padding: 2px 8px;
        border-radius: 4px;
        font-size: 0.7rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.03em;
        border: 1px solid;

        i {
            font-size: 0.65rem;
        }

        &--weapon-class {
            background: linear-gradient(135deg, rgba(182, 62, 46, 0.2), rgba(182, 62, 46, 0.08));
            border-color: rgba(182, 62, 46, 0.4);
            color: rgba(246, 151, 139, 0.95);
        }

        &--weapon-type {
            background: linear-gradient(135deg, rgba(58, 93, 132, 0.25), rgba(58, 93, 132, 0.1));
            border-color: rgba(98, 142, 185, 0.4);
            color: rgba(178, 208, 234, 0.95);
        }

        &--craft {
            &.rt-meta-badge--poor {
                background: rgba(139, 0, 0, 0.15);
                border-color: rgba(139, 0, 0, 0.4);
                color: var(--rt-red);
            }
            &.rt-meta-badge--good {
                background: rgba(45, 90, 45, 0.15);
                border-color: rgba(45, 90, 45, 0.4);
                color: var(--rt-green);
            }
            &.rt-meta-badge--best,
            &.rt-meta-badge--master-crafted {
                background: rgba(212, 175, 55, 0.15);
                border-color: rgba(212, 175, 55, 0.5);
                color: var(--rt-gold);
            }
        }
    }

    .rt-weapon-header-actions {
        display: flex;
        align-items: center;
        gap: 6px;
    }

    .rt-toggle-equipped {
        display: flex;
        align-items: center;
        cursor: pointer;

        input {
            display: none;
        }

        .rt-toggle-equipped__indicator {
            font-size: 1.2rem;
            color: rgba(214, 221, 235, 0.5);
            transition: color 0.2s ease;
        }

        input:checked ~ .rt-toggle-equipped__indicator {
            color: var(--rt-green-bright);
        }
    }

    .rt-edit-toggle {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 32px;
        height: 32px;
        border-radius: 6px;
        background: rgba(14, 18, 26, 0.6);
        border: 1px solid rgba(212, 175, 55, 0.2);
        color: rgba(214, 221, 235, 0.6);
        cursor: pointer;
        transition: all 0.2s ease;

        &:hover {
            background: rgba(20, 24, 34, 0.7);
            border-color: rgba(212, 175, 55, 0.4);
            color: var(--rt-gold);
        }

        &.active {
            background: linear-gradient(135deg, rgba(80, 46, 28, 0.6), rgba(28, 24, 20, 0.5));
            border-color: rgba(212, 175, 55, 0.5);
            color: var(--rt-gold);
        }
    }

    // ── Color-Coded Stat Cards ───────────────────────────────────────────
    .rt-weapon-stats {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        padding: 10px 12px 12px;
    }

    // ═══════════════════════════════════════════════════════════════════════
    // ICONIC STAT MOSAIC - Modern Glassmorphism Design
    // ═══════════════════════════════════════════════════════════════════════

    .rt-weapon-mosaic {
        display: grid;
        grid-template-columns: repeat(6, 1fr);
        grid-auto-rows: minmax(60px, auto);
        grid-auto-flow: dense;
        gap: 8px;
        padding: 12px;

        // Adjust column count based on container width
        @container (max-width: 300px) {
            grid-template-columns: repeat(2, 1fr);
        }

        @container (min-width: 301px) and (max-width: 420px) {
            grid-template-columns: repeat(4, 1fr);
        }

        @container (min-width: 600px) {
            grid-template-columns: repeat(8, 1fr);
        }
    }

    .rt-iconic-stat {
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 8px 6px;
        background: rgba(12, 16, 24, 0.6);
        border-radius: 8px;
        border: 2px solid transparent;
        backdrop-filter: blur(12px);
        overflow: hidden;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        cursor: default;
        aspect-ratio: 1 / 1;
        grid-column: span 1;
        grid-row: span 1;
        min-height: 60px;

        // Base sizes for 1x1 square
        .rt-iconic-stat__shape {
            font-size: 1.2rem;
            margin-bottom: 4px;
        }

        .rt-iconic-stat__value {
            font-size: 0.95rem;
            font-weight: 600;
        }

        .rt-iconic-stat__label {
            font-size: 0.6rem;
            text-transform: uppercase;
        }

        // Size variants with responsive adjustments
        &--large {
            grid-column: span 2;
            grid-row: span 2;
            aspect-ratio: 1 / 1;
            padding: 10px 8px;

            .rt-iconic-stat__shape {
                font-size: 2rem;
                margin-bottom: 8px;
            }

            .rt-iconic-stat__value {
                font-size: 1.4rem;
            }

            .rt-iconic-stat__label {
                font-size: 0.7rem;
            }

            // Shrink to 2x1 on medium containers
            @container (max-width: 520px) {
                grid-row: span 1;
                aspect-ratio: 2 / 1;

                .rt-iconic-stat__shape {
                    font-size: 1.5rem;
                    margin-bottom: 6px;
                }

                .rt-iconic-stat__value {
                    font-size: 1.2rem;
                }
            }

            // Shrink to 1x1 on narrow containers
            @container (max-width: 380px) {
                grid-column: span 1;
                grid-row: span 1;
                aspect-ratio: 1 / 1;

                .rt-iconic-stat__shape {
                    font-size: 1.2rem;
                    margin-bottom: 4px;
                }

                .rt-iconic-stat__value {
                    font-size: 1rem;
                }
            }
        }

        &--medium {
            grid-column: span 1;
            grid-row: span 1;
            aspect-ratio: 1 / 1;

            .rt-iconic-stat__shape {
                font-size: 1rem;
                margin-bottom: 3px;
            }

            .rt-iconic-stat__value {
                font-size: 0.9rem;
            }

            .rt-iconic-stat__label {
                font-size: 0.6rem;
            }

            // Expand to 2x1 when there's enough space (wide containers)
            @container (min-width: 550px) {
                grid-column: span 2;
                aspect-ratio: 2 / 1;

                .rt-iconic-stat__shape {
                    font-size: 1.2rem;
                    margin-bottom: 4px;
                }

                .rt-iconic-stat__value {
                    font-size: 1rem;
                }
            }
        }

        &--small {
            // Already 1x1, just smaller text
            .rt-iconic-stat__shape {
                font-size: 1rem;
                margin-bottom: 3px;
            }

            .rt-iconic-stat__value {
                font-size: 0.85rem;
            }

            .rt-iconic-stat__label {
                font-size: 0.55rem;
            }
        }

        &--wide {
            grid-column: 1 / -1;
            aspect-ratio: auto;
            flex-direction: row;
            justify-content: flex-start;
            padding: 8px 12px;
            gap: 10px;

            .rt-iconic-stat__shape {
                font-size: 1rem;
                margin-bottom: 0;
            }
        }

        // Hover effects
        &:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);

            .rt-iconic-stat__glow {
                opacity: 1;
            }
        }

        // Shape container
        &__shape {
            position: relative;
            z-index: 2;
            font-size: 1.3rem;
            margin-bottom: 4px;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
            transition: transform 0.3s ease, filter 0.3s ease;
        }

        // Content
        &__content {
            position: relative;
            z-index: 2;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2px;
        }

        &__value {
            font-family: $rt-font-display;
            font-size: 1rem;
            font-weight: 700;
            color: rgba(240, 232, 220, 0.95);
            line-height: 1.1;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);

            small {
                font-size: 0.6em;
                font-weight: 400;
                opacity: 0.7;
            }

            &--positive {
                color: var(--rt-green-bright);
            }

            &--negative {
                color: var(--rt-red-bright);
            }
        }

        &__label {
            font-size: 0.6rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            color: rgba(202, 210, 222, 0.6);
        }

        // Glow effect (animated on hover)
        &__glow {
            position: absolute;
            inset: 0;
            border-radius: inherit;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: 0;
        }

        // Progress bar for clip
        &__progress {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: rgba(0, 0, 0, 0.3);
            overflow: hidden;

            &::after {
                content: '';
                position: absolute;
                left: 0;
                top: 0;
                bottom: 0;
                width: var(--progress, 100%);
                background: linear-gradient(90deg, var(--rt-green), var(--rt-green-bright));
                transition: width 0.4s ease;
            }
        }

        // Qualities container
        &__qualities {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            flex: 1;
        }

        // ═══════════════════════════════════════════════════════════════════
        // STAT TYPE VARIANTS - Colors, Borders, Glows
        // ═══════════════════════════════════════════════════════════════════

        // Damage - Red/Crimson
        &--damage {
            border-color: rgba(182, 62, 46, 0.4);
            background: linear-gradient(145deg, rgba(182, 62, 46, 0.15), rgba(12, 16, 24, 0.7));

            .rt-iconic-stat__shape {
                color: var(--rt-red-bright);
            }

            .rt-iconic-stat__value {
                color: var(--rt-red-bright);
            }

            .rt-iconic-stat__glow {
                background: radial-gradient(circle at center, rgba(182, 62, 46, 0.25), transparent 70%);
                box-shadow: inset 0 0 30px rgba(182, 62, 46, 0.2);
            }

            &:hover {
                border-color: rgba(182, 62, 46, 0.7);
                box-shadow: 0 8px 24px rgba(182, 62, 46, 0.25), 0 0 40px rgba(182, 62, 46, 0.15);

                .rt-iconic-stat__shape {
                    transform: scale(1.1);
                    filter: drop-shadow(0 0 8px rgba(182, 62, 46, 0.6));
                }
            }
        }

        // Penetration - Gold
        &--pen {
            border-color: rgba(212, 175, 55, 0.4);
            background: linear-gradient(145deg, rgba(212, 175, 55, 0.12), rgba(12, 16, 24, 0.7));

            .rt-iconic-stat__shape {
                color: var(--rt-gold);
            }

            .rt-iconic-stat__value {
                color: var(--rt-gold);
            }

            .rt-iconic-stat__glow {
                background: radial-gradient(circle at center, rgba(212, 175, 55, 0.2), transparent 70%);
                box-shadow: inset 0 0 30px rgba(212, 175, 55, 0.15);
            }

            &:hover {
                border-color: rgba(212, 175, 55, 0.7);
                box-shadow: 0 8px 24px rgba(212, 175, 55, 0.2), 0 0 40px rgba(212, 175, 55, 0.12);

                .rt-iconic-stat__shape {
                    transform: scale(1.1) rotate(45deg);
                    filter: drop-shadow(0 0 8px rgba(212, 175, 55, 0.6));
                }
            }
        }

        // To Hit - Green
        &--tohit {
            border-color: rgba(74, 132, 72, 0.4);
            background: linear-gradient(145deg, rgba(74, 132, 72, 0.12), rgba(12, 16, 24, 0.7));

            .rt-iconic-stat__shape {
                color: var(--rt-green);
            }

            .rt-iconic-stat__glow {
                background: radial-gradient(circle at center, rgba(74, 132, 72, 0.2), transparent 70%);
            }

            &:hover {
                border-color: rgba(74, 132, 72, 0.7);
                box-shadow: 0 8px 24px rgba(74, 132, 72, 0.2);

                .rt-iconic-stat__shape {
                    transform: scale(1.15);
                    filter: drop-shadow(0 0 8px rgba(74, 132, 72, 0.6));
                }
            }
        }

        // Range - Blue
        &--range {
            border-color: rgba(58, 93, 132, 0.4);
            background: linear-gradient(145deg, rgba(58, 93, 132, 0.15), rgba(12, 16, 24, 0.7));

            .rt-iconic-stat__shape {
                color: rgba(98, 142, 185, 0.9);
            }

            .rt-iconic-stat__value {
                color: rgba(178, 208, 234, 0.95);
            }

            .rt-iconic-stat__glow {
                background: radial-gradient(circle at center, rgba(58, 93, 132, 0.25), transparent 70%);
            }

            &:hover {
                border-color: rgba(98, 142, 185, 0.7);
                box-shadow: 0 8px 24px rgba(58, 93, 132, 0.25);

                .rt-iconic-stat__shape {
                    transform: scale(1.1);
                    filter: drop-shadow(0 0 8px rgba(98, 142, 185, 0.6));
                }
            }
        }

        // Rate of Fire - Bronze/Orange
        &--rof {
            border-color: rgba(143, 76, 38, 0.4);
            background: linear-gradient(145deg, rgba(143, 76, 38, 0.15), rgba(12, 16, 24, 0.7));

            .rt-iconic-stat__shape {
                color: rgba(212, 140, 80, 0.9);
            }

            .rt-iconic-stat__glow {
                background: radial-gradient(circle at center, rgba(143, 76, 38, 0.2), transparent 70%);
            }

            &:hover {
                border-color: rgba(212, 140, 80, 0.7);
                box-shadow: 0 8px 24px rgba(143, 76, 38, 0.25);

                .rt-iconic-stat__shape {
                    transform: scale(1.15);
                    filter: drop-shadow(0 0 8px rgba(212, 140, 80, 0.6));
                    animation: burst-pulse 0.6s ease;
                }
            }
        }

        // Clip/Ammo - Dynamic based on status
        &--clip {
            border-color: rgba(74, 132, 72, 0.4);
            background: linear-gradient(145deg, rgba(74, 132, 72, 0.1), rgba(12, 16, 24, 0.7));

            .rt-iconic-stat__shape {
                color: var(--rt-green);
            }

            &--ammo-low {
                border-color: rgba(171, 110, 24, 0.5);
                background: linear-gradient(145deg, rgba(171, 110, 24, 0.12), rgba(12, 16, 24, 0.7));

                .rt-iconic-stat__shape {
                    color: var(--rt-warning-primary);
                }

                .rt-iconic-stat__progress::after {
                    background: linear-gradient(90deg, var(--rt-warning-primary), var(--rt-warning-secondary));
                }
            }

            &--ammo-critical,
            &--ammo-empty {
                border-color: rgba(182, 62, 46, 0.5);
                background: linear-gradient(145deg, rgba(182, 62, 46, 0.12), rgba(12, 16, 24, 0.7));
                animation: clip-pulse 2s ease-in-out infinite;

                .rt-iconic-stat__shape {
                    color: var(--rt-red-bright);
                }

                .rt-iconic-stat__value {
                    color: var(--rt-red-bright);
                }

                .rt-iconic-stat__progress::after {
                    background: linear-gradient(90deg, var(--rt-red), var(--rt-red-bright));
                }
            }

            &:hover {
                box-shadow: 0 8px 24px rgba(74, 132, 72, 0.2);
            }
        }

        // Weight - Neutral/Gray
        &--weight {
            border-color: rgba(148, 160, 178, 0.3);
            background: linear-gradient(145deg, rgba(148, 160, 178, 0.08), rgba(12, 16, 24, 0.7));

            .rt-iconic-stat__shape {
                color: rgba(148, 160, 178, 0.8);
            }

            &:hover {
                border-color: rgba(148, 160, 178, 0.5);
                box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
            }
        }

        // Qualities - Blue accent (individual cards)
        &--quality {
            grid-column: span 1;
            border-color: rgba(58, 93, 132, 0.4);
            background: linear-gradient(145deg, rgba(58, 93, 132, 0.15), rgba(12, 16, 24, 0.6));
            cursor: pointer;
            padding: 8px 6px;

            .rt-iconic-stat__shape {
                font-size: 0.9rem;
                color: rgba(178, 208, 234, 0.7);
                margin-bottom: 2px;
            }

            .rt-iconic-stat__value {
                font-size: 0.7rem;
                font-weight: 600;
                text-align: center;
                color: rgba(178, 208, 234, 0.95);
                line-height: 1.2;

                &--quality {
                    white-space: nowrap;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    max-width: 100%;
                }
            }

            .rt-iconic-stat__glow {
                background: radial-gradient(circle at center, rgba(58, 93, 132, 0.2), transparent 70%);
            }

            &:hover {
                border-color: rgba(98, 142, 185, 0.7);
                box-shadow: 0 8px 24px rgba(58, 93, 132, 0.25);
                transform: translateY(-2px) scale(1.02);

                .rt-iconic-stat__shape {
                    transform: scale(1.2);
                    filter: drop-shadow(0 0 6px rgba(98, 142, 185, 0.6));
                }
            }
        }

        // Qualities - wide bar (legacy, kept for backwards compatibility)
        &--qualities {
            border-color: rgba(58, 93, 132, 0.3);
            background: linear-gradient(145deg, rgba(58, 93, 132, 0.1), rgba(12, 16, 24, 0.6));

            .rt-iconic-stat__shape {
                color: rgba(178, 208, 234, 0.7);
            }
        }

        // Modified indicator
        &--modified {
            &::before {
                content: '★';
                position: absolute;
                top: 4px;
                right: 6px;
                font-size: 0.6rem;
                color: var(--rt-gold);
                z-index: 3;
                animation: star-twinkle 2s ease-in-out infinite;
            }
        }
    }

    // Quality chip (inside mosaic)
    .rt-quality-chip {
        display: inline-flex;
        align-items: center;
        padding: 4px 10px;
        background: rgba(12, 16, 24, 0.5);
        border: 1px solid rgba(98, 142, 185, 0.35);
        border-radius: 14px;
        font-size: 0.7rem;
        font-weight: 600;
        color: rgba(178, 208, 234, 0.95);
        cursor: pointer;
        transition: all 0.2s ease;

        &:hover {
            background: rgba(58, 93, 132, 0.35);
            border-color: rgba(98, 142, 185, 0.6);
            transform: translateY(-1px);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
        }

        &:active {
            transform: translateY(0);
        }
    }

    // ═══════════════════════════════════════════════════════════════════════
    // ANIMATIONS
    // ═══════════════════════════════════════════════════════════════════════

    @keyframes burst-pulse {
        0%,
        100% {
            transform: scale(1.15);
        }
        50% {
            transform: scale(1.25);
        }
    }

    @keyframes clip-pulse {
        0%,
        100% {
            border-color: rgba(182, 62, 46, 0.4);
            box-shadow: 0 0 0 rgba(182, 62, 46, 0);
        }
        50% {
            border-color: rgba(182, 62, 46, 0.7);
            box-shadow: 0 0 15px rgba(182, 62, 46, 0.3);
        }
    }

    @keyframes star-twinkle {
        0%,
        100% {
            opacity: 0.8;
            transform: scale(1);
        }
        50% {
            opacity: 1;
            transform: scale(1.2);
        }
    }

    @keyframes value-change-highlight {
        0% {
            box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.6);
        }
        50% {
            box-shadow: 0 0 20px 4px rgba(212, 175, 55, 0.4);
        }
        100% {
            box-shadow: 0 0 0 0 rgba(212, 175, 55, 0);
        }
    }

    @keyframes subtle-pulse {
        0%,
        100% {
            opacity: 1;
        }
        50% {
            opacity: 0.7;
        }
    }

    @keyframes slide-in-up {
        from {
            opacity: 0;
            transform: translateY(10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes glow-pulse {
        0%,
        100% {
            box-shadow: 0 0 5px rgba(212, 175, 55, 0.3);
        }
        50% {
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.5);
        }
    }

    // ═══════════════════════════════════════════════════════════════════════
    // MICRO-INTERACTIONS & POLISH
    // ═══════════════════════════════════════════════════════════════════════

    // Section expand/collapse animation
    .rt-section__body {
        animation: slide-in-up 0.3s ease-out;

        &.collapsed {
            display: none;
        }
    }

    // Value change highlight (add .rt-value-changed class via JS when value updates)
    .rt-value-changed {
        animation: value-change-highlight 0.6s ease-out;
    }

    // Interactive elements hover lift
    .rt-quality-chip,
    .rt-mod-chip,
    .rt-meta-badge {
        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);

        &:hover {
            transform: translateY(-2px);
        }

        &:active {
            transform: translateY(0) scale(0.98);
        }
    }

    // Section header hover effect
    .rt-section__header {
        transition: all 0.2s ease;

        &:hover {
            background: linear-gradient(135deg, rgba(62, 34, 22, 0.5), rgba(16, 20, 28, 0.25));

            .rt-section__toggle {
                color: var(--rt-gold);
            }
        }

        &:active {
            background: linear-gradient(135deg, rgba(62, 34, 22, 0.6), rgba(16, 20, 28, 0.3));
        }
    }

    // Edit toggle button glow when active
    .rt-edit-toggle.active {
        animation: glow-pulse 2s ease-in-out infinite;
    }

    // FAB expand animation
    .rt-fab-container {
        .rt-fab-actions {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        &.expanded {
            .rt-fab--main {
                transform: rotate(45deg);
                background: linear-gradient(135deg, rgba(182, 62, 46, 0.9), rgba(139, 0, 0, 0.9));
            }

            .rt-fab-actions {
                .rt-fab {
                    animation: slide-in-up 0.3s ease-out backwards;

                    &:nth-child(1) {
                        animation-delay: 0.05s;
                    }
                    &:nth-child(2) {
                        animation-delay: 0.1s;
                    }
                    &:nth-child(3) {
                        animation-delay: 0.15s;
                    }
                }
            }
        }
    }

    // Form field focus ripple effect
    .rt-float-field {
        &::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 6px;
            pointer-events: none;
            opacity: 0;
            background: radial-gradient(circle at center, rgba(212, 175, 55, 0.15), transparent 70%);
            transition: opacity 0.3s ease;
        }

        &:focus-within::after {
            opacity: 1;
        }
    }

    // ═══════════════════════════════════════════════════════════════════════
    // BODY TOGGLE BUTTON
    // ═══════════════════════════════════════════════════════════════════════

    .rt-body-toggle {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        width: 100%;
        padding: 8px 16px;
        margin-top: 8px;
        background: linear-gradient(135deg, rgba(62, 34, 22, 0.4), rgba(16, 20, 28, 0.3));
        border: 1px solid rgba(212, 175, 55, 0.25);
        border-radius: 6px;
        color: rgba(214, 221, 235, 0.8);
        font-size: 0.8rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        cursor: pointer;
        transition: all 0.2s ease;

        &:hover {
            background: linear-gradient(135deg, rgba(62, 34, 22, 0.55), rgba(16, 20, 28, 0.4));
            border-color: rgba(212, 175, 55, 0.4);
            color: var(--rt-gold);
        }

        &__icon {
            font-size: 0.75rem;
            transition: transform 0.3s ease;
        }
    }

    // ═══════════════════════════════════════════════════════════════════════
    // TOGGLE SWITCH COMPONENT
    // ═══════════════════════════════════════════════════════════════════════

    .rt-toggle-row {
        display: flex;
        flex-wrap: wrap;
        gap: 16px;
        margin-top: 12px;
        padding-top: 12px;
        border-top: 1px solid rgba(255, 255, 255, 0.06);
    }

    .rt-toggle-switch {
        display: flex;
        align-items: center;
        gap: 10px;
        cursor: pointer;

        input {
            display: none;
        }

        &__slider {
            position: relative;
            width: 40px;
            height: 22px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 11px;
            transition: all 0.3s ease;

            &::after {
                content: '';
                position: absolute;
                top: 2px;
                left: 2px;
                width: 16px;
                height: 16px;
                background: rgba(214, 221, 235, 0.7);
                border-radius: 50%;
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            }
        }

        input:checked + &__slider {
            background: linear-gradient(135deg, rgba(74, 132, 72, 0.6), rgba(74, 132, 72, 0.4));
            border-color: rgba(115, 177, 113, 0.5);

            &::after {
                left: 20px;
                background: var(--rt-green-bright);
                box-shadow: 0 0 8px rgba(115, 177, 113, 0.5);
            }
        }

        &__label {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.85rem;
            color: var(--rt-text-medium);

            i {
                font-size: 0.8rem;
                color: var(--rt-bronze);
            }
        }

        input:checked ~ &__label {
            color: var(--rt-green-bright);

            i {
                color: var(--rt-green);
            }
        }

        &:hover .rt-toggle-switch__slider {
            border-color: rgba(212, 175, 55, 0.4);
        }
    }

    // Equipped toggle animation
    .rt-toggle-equipped {
        transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);

        input:checked ~ .rt-toggle-equipped__indicator i {
            animation: burst-pulse 0.4s ease;
        }
    }

    // Image hover zoom
    .rt-item-image {
        overflow: hidden;

        img {
            transition: transform 0.3s ease;
        }

        &:hover img {
            transform: scale(1.08);
        }
    }

    // Loaded ammo card entrance
    .rt-loaded-ammo-card {
        animation: slide-in-up 0.4s ease-out;
    }

    // Modification chip enter animation
    .rt-mod-chip {
        animation: slide-in-up 0.3s ease-out;
    }

    // Quality chip stagger animation (use nth-child for stagger effect)
    .rt-iconic-stat__qualities {
        .rt-quality-chip {
            animation: slide-in-up 0.3s ease-out backwards;

            @for $i from 1 through 10 {
                &:nth-child(#{$i}) {
                    animation-delay: #{$i * 0.05}s;
                }
            }
        }
    }

    .rt-stat-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        flex: 1;
        min-width: 55px;
        max-width: 85px;
        padding: 8px 6px;
        background: rgba(12, 16, 24, 0.6);
        border-radius: 8px;
        border: 1px solid rgba(255, 255, 255, 0.08);
        backdrop-filter: blur(8px);
        transition: all 0.2s ease;

        &:hover {
            background: rgba(12, 16, 24, 0.75);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        &__icon {
            font-size: 0.9rem;
            margin-bottom: 2px;
            color: var(--rt-bronze);
        }

        &__value {
            font-family: $rt-font-display;
            font-size: 1rem;
            font-weight: 700;
            color: rgba(240, 232, 220, 0.95);
            line-height: 1.1;

            small {
                font-size: 0.65rem;
                font-weight: 400;
                opacity: 0.7;
            }

            &--positive {
                color: var(--rt-green-bright);
            }
            &--negative {
                color: var(--rt-red-bright);
            }
        }

        &__label {
            font-size: 0.6rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.04em;
            color: rgba(202, 210, 222, 0.65);
        }

        &__bar {
            width: 100%;
            height: 3px;
            margin-top: 4px;
            background: rgba(12, 16, 24, 0.5);
            border-radius: 2px;
            overflow: hidden;
        }

        &__bar-fill {
            height: 100%;
            background: var(--rt-green-bright);
            transition: width 0.3s ease;
        }

        // Color coding
        &--damage {
            border-color: rgba(182, 62, 46, 0.3);
            .rt-stat-card__icon {
                color: var(--rt-red-bright);
            }
            .rt-stat-card__value {
                color: var(--rt-red-bright);
            }
        }

        &--pen {
            border-color: rgba(212, 175, 55, 0.3);
            .rt-stat-card__icon {
                color: var(--rt-gold);
            }
            .rt-stat-card__value {
                color: var(--rt-gold);
            }
        }

        &--tohit {
            border-color: rgba(74, 132, 72, 0.3);
            .rt-stat-card__icon {
                color: var(--rt-green);
            }
        }

        &--range {
            border-color: rgba(58, 93, 132, 0.3);
            .rt-stat-card__icon {
                color: rgba(98, 142, 185, 0.9);
            }
            .rt-stat-card__value {
                color: rgba(178, 208, 234, 0.95);
            }
        }

        &--rof {
            border-color: rgba(143, 76, 38, 0.3);
            .rt-stat-card__icon {
                color: rgba(212, 140, 80, 0.9);
            }
        }

        &--clip {
            position: relative;
        }

        &--ammo-critical,
        &--ammo-empty {
            border-color: var(--rt-red);
            .rt-stat-card__bar-fill {
                background: var(--rt-red-bright);
            }
            .rt-stat-card__value {
                color: var(--rt-red-bright);
            }
        }

        &--ammo-low {
            .rt-stat-card__bar-fill {
                background: var(--rt-warning-primary);
            }
        }

        &--modified {
            .rt-stat-card__value {
                color: var(--rt-gold);
                position: relative;
                &::after {
                    content: '*';
                    position: absolute;
                    top: -2px;
                    right: -6px;
                    font-size: 0.6rem;
                    color: var(--rt-gold);
                }
            }
        }
    }

    // ── Scrollable Body ──────────────────────────────────────────────────
    .rt-weapon-body {
        flex: 1;
        overflow-y: auto;
        overflow-x: hidden;
        padding: 10px 12px 60px; // Extra bottom padding for FAB
        transition: all 0.3s ease;

        &.collapsed {
            display: none;
        }

        &::-webkit-scrollbar {
            width: 6px;
        }

        &::-webkit-scrollbar-track {
            background: transparent;
        }

        &::-webkit-scrollbar-thumb {
            background: rgba(212, 175, 55, 0.3);
            border-radius: 3px;

            &:hover {
                background: rgba(212, 175, 55, 0.5);
            }
        }
    }

    // ── Qualities Bar (Inline Pills) ─────────────────────────────────────
    .rt-qualities-bar {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 8px;
        margin-bottom: 10px;
        padding: 8px 10px;
        background: linear-gradient(135deg, rgba(58, 93, 132, 0.2), rgba(18, 22, 30, 0.15));
        border: 1px solid rgba(98, 142, 185, 0.25);
        border-radius: 8px;

        &__label {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: rgba(178, 208, 234, 0.8);
            flex-shrink: 0;

            i {
                font-size: 0.65rem;
            }
        }

        &__pills {
            display: flex;
            flex-wrap: wrap;
            gap: 4px;
        }
    }

    .rt-quality-pill {
        display: inline-flex;
        align-items: center;
        padding: 3px 10px;
        background: rgba(12, 16, 24, 0.5);
        border: 1px solid rgba(98, 142, 185, 0.35);
        border-radius: 12px;
        font-size: 0.7rem;
        font-weight: 600;
        color: rgba(178, 208, 234, 0.95);
        cursor: pointer;
        transition: all 0.2s ease;

        &:hover {
            background: rgba(58, 93, 132, 0.35);
            border-color: rgba(98, 142, 185, 0.6);
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        &:active {
            transform: translateY(0);
        }
    }

    // ── Loaded Ammo Card ─────────────────────────────────────────────────
    .rt-loaded-ammo-card {
        margin-bottom: 10px;
        padding: 8px 12px;
        background: linear-gradient(135deg, rgba(74, 132, 72, 0.15), rgba(18, 22, 30, 0.1));
        border: 1px solid rgba(115, 177, 113, 0.3);
        border-left: 3px solid rgba(115, 177, 113, 0.6);
        border-radius: 6px;

        &__header {
            display: flex;
            align-items: center;
            gap: 8px;

            i {
                color: var(--rt-green);
                font-size: 0.8rem;
            }
        }

        &__name {
            flex: 1;
            font-weight: 600;
            font-size: 0.85rem;
            color: rgba(178, 234, 176, 0.95);
        }

        &__effects {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-top: 6px;
        }
    }

    .rt-ammo-mod {
        display: inline-flex;
        padding: 2px 8px;
        background: rgba(0, 0, 0, 0.2);
        border-radius: 4px;
        font-size: 0.7rem;
        font-weight: 600;

        &--positive {
            color: var(--rt-green-bright);
        }
        &--negative {
            color: var(--rt-red-bright);
        }
        &--quality {
            color: rgba(178, 208, 234, 0.95);
        }
    }

    // ── Inline Modification Chips ────────────────────────────────────────
    .rt-mods-inline {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        margin-bottom: 10px;
    }

    .rt-mod-chip {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 4px 8px 4px 10px;
        background: linear-gradient(135deg, rgba(143, 76, 38, 0.2), rgba(143, 76, 38, 0.08));
        border: 1px solid rgba(212, 140, 80, 0.35);
        border-radius: 16px;
        font-size: 0.75rem;
        font-weight: 500;
        color: rgba(246, 208, 163, 0.95);
        transition: all 0.2s ease;

        i {
            font-size: 0.7rem;
            color: rgba(212, 140, 80, 0.8);
        }

        &--inactive {
            opacity: 0.5;
            text-decoration: line-through;
        }

        &__toggle {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 20px;
            height: 20px;
            background: transparent;
            border: none;
            color: var(--rt-green);
            cursor: pointer;
            padding: 0;

            i {
                font-size: 0.9rem;
            }
        }
    }

    // ── Collapsible Sections ─────────────────────────────────────────────
    .rt-section {
        margin-bottom: 8px;
        background: rgba(12, 16, 24, 0.5);
        border: 1px solid rgba(255, 255, 255, 0.06);
        border-radius: 8px;
        overflow: hidden;

        &__header {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: linear-gradient(135deg, rgba(62, 34, 22, 0.35), rgba(16, 20, 28, 0.15));
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            cursor: pointer;
            transition: background 0.2s ease;
            user-select: none;

            &:hover {
                background: linear-gradient(135deg, rgba(62, 34, 22, 0.45), rgba(16, 20, 28, 0.2));
            }

            > i:first-child {
                font-size: 0.8rem;
                color: var(--rt-bronze);
            }

            > span {
                flex: 1;
                font-family: $rt-font-heading;
                font-size: 0.85rem;
                font-weight: 600;
                color: rgba(240, 232, 220, 0.9);
            }

            .rt-badge {
                padding: 2px 8px;
                background: rgba(58, 93, 132, 0.25);
                border-radius: 10px;
                font-size: 0.65rem;
                font-weight: 700;
                color: rgba(178, 208, 234, 0.9);
            }

            .rt-section__toggle {
                font-size: 0.7rem;
                color: rgba(214, 221, 235, 0.5);
                transition: transform 0.2s ease;
            }
        }

        &__body {
            padding: 10px 12px;
            transition: all 0.2s ease;

            &.collapsed {
                display: none;
            }

            &--prose {
                padding: 0;

                .rt-prose {
                    padding: 10px 12px;
                    font-size: 0.85rem;
                    line-height: 1.5;
                    color: var(--rt-text-medium);
                    min-height: 60px;

                    &--clickable {
                        cursor: default;
                    }

                    &--editable {
                        cursor: pointer;
                        transition: all 0.2s ease;
                        border: 1px solid transparent;
                        border-radius: 4px;
                        margin: 8px;
                        padding: 8px 10px;

                        &:hover {
                            background: rgba(212, 175, 55, 0.08);
                            border-color: rgba(212, 175, 55, 0.25);
                        }
                    }

                    &__placeholder {
                        display: flex;
                        align-items: center;
                        gap: 8px;
                        color: rgba(214, 221, 235, 0.4);
                        font-style: italic;
                        margin: 0;

                        i {
                            font-size: 0.8rem;
                        }
                    }
                }

                .rt-description-editor {
                    padding: 0;

                    .prosemirror {
                        min-height: 120px;
                        padding: 10px 12px;
                        background: rgba(0, 0, 0, 0.15);
                        border: 1px solid rgba(212, 175, 55, 0.2);
                        border-radius: 0 0 4px 4px;
                        font-size: 0.85rem;
                        line-height: 1.5;
                        color: var(--rt-text-medium);

                        &:focus {
                            outline: none;
                            border-color: rgba(212, 175, 55, 0.4);
                            box-shadow: inset 0 0 0 1px rgba(212, 175, 55, 0.15);
                        }
                    }

                    // Style the ProseMirror toolbar
                    .editor-menu {
                        background: rgba(12, 16, 24, 0.8);
                        border: 1px solid rgba(212, 175, 55, 0.2);
                        border-bottom: none;
                        border-radius: 4px 4px 0 0;
                        padding: 4px 8px;

                        button {
                            background: transparent;
                            border: 1px solid transparent;
                            color: rgba(214, 221, 235, 0.7);
                            border-radius: 3px;
                            padding: 4px 6px;
                            margin: 0 1px;
                            transition: all 0.15s ease;

                            &:hover {
                                background: rgba(212, 175, 55, 0.15);
                                border-color: rgba(212, 175, 55, 0.3);
                                color: var(--rt-gold);
                            }

                            &.active {
                                background: rgba(212, 175, 55, 0.2);
                                border-color: rgba(212, 175, 55, 0.4);
                                color: var(--rt-gold);
                            }
                        }
                    }
                }
            }
        }

        // Collapsed state
        &__header:has(~ .rt-section__body.collapsed) {
            border-bottom: none;

            .rt-section__toggle {
                transform: rotate(-90deg);
            }
        }
    }

    // ── Form Fields ──────────────────────────────────────────────────────
    .rt-form-grid {
        display: grid;
        gap: 8px;

        &--2col {
            grid-template-columns: 1fr 1fr;
        }

        &--3col {
            grid-template-columns: 1fr 1fr 1fr;
        }
    }

    .rt-form-field {
        display: flex;
        flex-direction: column;
        gap: 3px;

        &--narrow {
            max-width: 80px;
        }

        &--full {
            grid-column: 1 / -1;
        }

        label {
            font-size: 0.65rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.04em;
            color: rgba(202, 210, 222, 0.7);
        }

        input,
        select,
        textarea {
            padding: 6px 10px;
            background: rgba(0, 0, 0, 0.25);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            font-size: 0.85rem;
            color: var(--rt-text-dark);
            transition: all 0.2s ease;

            &:focus {
                outline: none;
                border-color: rgba(212, 175, 55, 0.5);
                box-shadow: 0 0 0 2px rgba(212, 175, 55, 0.15);
            }
        }

        input[type='number'] {
            text-align: center;
        }

        select {
            cursor: pointer;
        }

        textarea {
            resize: vertical;
            min-height: 50px;
        }

        &__value {
            padding: 6px 10px;
            background: rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 4px;
            font-size: 0.85rem;
            color: var(--rt-text-medium);
            min-height: 30px;
        }
    }

    .rt-form-checkboxes {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        margin-top: 8px;
    }

    .rt-checkbox {
        display: flex;
        align-items: center;
        gap: 6px;
        cursor: pointer;

        input {
            width: 14px;
            height: 14px;
            accent-color: var(--rt-gold);
        }

        span {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 0.8rem;
            color: var(--rt-text-medium);

            i {
                font-size: 0.75rem;
            }
        }
    }

    // ═══════════════════════════════════════════════════════════════════════
    // FLOATING LABEL INPUTS - Material Design Inspired
    // ═══════════════════════════════════════════════════════════════════════

    .rt-float-field {
        position: relative;
        display: flex;
        flex-direction: column;

        // The input/select field
        input,
        select {
            width: 100%;
            min-height: 42px;
            padding: 24px 12px 8px;
            background: rgba(0, 0, 0, 0.25);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 6px;
            font-size: 0.9rem;
            color: var(--rt-text-dark);
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);

            &:focus {
                outline: none;
                border-color: rgba(212, 175, 55, 0.6);
                background: rgba(0, 0, 0, 0.3);
                box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.15);
            }

            &:hover:not(:focus) {
                border-color: rgba(255, 255, 255, 0.2);
                background: rgba(0, 0, 0, 0.28);
            }
        }

        input[type='number'] {
            text-align: center;

            // Hide spinner arrows for cleaner look
            &::-webkit-outer-spin-button,
            &::-webkit-inner-spin-button {
                -webkit-appearance: none;
                margin: 0;
            }
            -moz-appearance: textfield;
        }

        // The floating label
        label {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.8rem;
            font-weight: 500;
            color: rgba(202, 210, 222, 0.6);
            pointer-events: none;
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            transform-origin: left center;
            z-index: 1;
        }

        // Animated underline bar
        &__bar {
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--rt-gold), var(--rt-gold-bright));
            border-radius: 0 0 6px 6px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateX(-50%);
        }

        // Label floats up when input is focused or has value
        input:focus ~ label,
        input:not(:placeholder-shown) ~ label,
        select:focus ~ label,
        select:not([value='']) ~ label,
        // For selects that always have a value
        select ~ label {
            top: 8px;
            transform: translateY(0) scale(0.75);
            color: rgba(212, 175, 55, 0.9);
            font-weight: 600;
            letter-spacing: 0.02em;
        }

        // When not focused but has value, use muted color
        input:not(:focus):not(:placeholder-shown) ~ label,
        select:not(:focus) ~ label {
            color: rgba(202, 210, 222, 0.7);
        }

        // Animate the bar on focus
        input:focus ~ .rt-float-field__bar,
        select:focus ~ .rt-float-field__bar {
            width: calc(100% - 2px);
        }

        // Narrow variant for small number inputs
        &--narrow {
            max-width: 100px;

            input {
                padding: 24px 8px 8px;
            }

            label {
                left: 8px;
            }
        }

        // Select variant with custom arrow
        &--select {
            select {
                appearance: none;
                padding-right: 32px;
                cursor: pointer;

                option {
                    background: rgba(20, 24, 34, 0.98);
                    color: var(--rt-text-dark);
                    padding: 8px 12px;
                }
            }

            // Custom dropdown arrow
            .rt-float-field__arrow {
                position: absolute;
                right: 12px;
                top: 50%;
                transform: translateY(-50%);
                font-size: 0.7rem;
                color: rgba(202, 210, 222, 0.5);
                pointer-events: none;
                transition: all 0.25s ease;
            }

            select:focus ~ .rt-float-field__arrow {
                color: var(--rt-gold);
                transform: translateY(-50%) rotate(180deg);
            }

            select:hover:not(:focus) ~ .rt-float-field__arrow {
                color: rgba(202, 210, 222, 0.7);
            }
        }

        // Filled state visual feedback
        &--filled {
            input,
            select {
                background: rgba(212, 175, 55, 0.08);
                border-color: rgba(212, 175, 55, 0.25);
            }
        }

        // Error state
        &--error {
            input,
            select {
                border-color: rgba(182, 62, 46, 0.6);
                background: rgba(182, 62, 46, 0.08);
            }

            label {
                color: var(--rt-red-bright);
            }

            .rt-float-field__bar {
                background: linear-gradient(90deg, var(--rt-red), var(--rt-red-bright));
            }
        }

        // Success state
        &--success {
            input,
            select {
                border-color: rgba(74, 132, 72, 0.5);
            }

            label {
                color: var(--rt-green);
            }

            .rt-float-field__bar {
                background: linear-gradient(90deg, var(--rt-green), var(--rt-green-bright));
            }
        }
    }

    .rt-rof-grid {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-top: 8px;
    }

    // ── Ammo Dropzone ────────────────────────────────────────────────────
    .rt-ammo-dropzone {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 16px;
        margin-top: 8px;
        background: rgba(0, 0, 0, 0.15);
        border: 2px dashed rgba(255, 255, 255, 0.1);
        border-radius: 6px;
        text-align: center;
        transition: all 0.3s ease;

        i {
            font-size: 1.5rem;
            color: rgba(255, 255, 255, 0.2);
            margin-bottom: 6px;
        }

        p {
            margin: 0;
            font-size: 0.8rem;
            color: var(--rt-text-muted);
        }

        .rt-hint {
            font-size: 0.7rem;
            font-style: italic;
            margin-top: 4px;
        }

        &.drag-over {
            background: rgba(212, 175, 55, 0.1);
            border-color: rgba(212, 175, 55, 0.5);

            i {
                color: var(--rt-gold);
            }
        }
    }

    // ── Modification Cards (Edit Mode) ───────────────────────────────────
    .rt-mods-list {
        display: flex;
        flex-direction: column;
        gap: 6px;
    }

    .rt-mod-card {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 8px;
        padding: 8px 10px;
        background: rgba(0, 0, 0, 0.2);
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: 6px;
        transition: all 0.2s ease;

        &:hover {
            border-color: rgba(212, 175, 55, 0.25);
        }

        &--inactive {
            opacity: 0.5;

            .rt-mod-card__name {
                text-decoration: line-through;
            }
        }

        &__info {
            display: flex;
            align-items: center;
            gap: 8px;
            flex: 1;
            min-width: 0;

            i {
                color: var(--rt-gold);
                font-size: 0.85rem;
            }
        }

        &__name {
            font-weight: 500;
            font-size: 0.85rem;
            color: var(--rt-text-dark);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        &__effects {
            display: flex;
            flex-wrap: wrap;
            gap: 4px;
            width: 100%;
        }

        &__actions {
            display: flex;
            gap: 2px;
        }
    }

    .rt-mod-effect {
        padding: 2px 6px;
        background: rgba(58, 93, 132, 0.15);
        border-radius: 3px;
        font-size: 0.65rem;
        font-weight: 600;
        color: rgba(178, 208, 234, 0.9);
    }

    // ── Empty State ──────────────────────────────────────────────────────
    .rt-empty-state {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 20px;
        text-align: center;

        i {
            font-size: 2rem;
            color: rgba(255, 255, 255, 0.15);
            margin-bottom: 8px;
        }

        p {
            margin: 0;
            font-size: 0.85rem;
            color: var(--rt-text-muted);
        }

        .rt-hint {
            font-size: 0.75rem;
            font-style: italic;
            margin-top: 4px;
            color: rgba(255, 255, 255, 0.35);
        }
    }

    // ── FAB (Floating Action Button) ─────────────────────────────────────
    .rt-fab-container {
        position: absolute;
        bottom: 16px;
        right: 16px;
        display: flex;
        flex-direction: column-reverse;
        align-items: center;
        gap: 8px;
        z-index: 30;

        .rt-fab-actions {
            display: flex;
            flex-direction: column-reverse;
            gap: 6px;
            opacity: 0;
            transform: translateY(10px) scale(0.9);
            pointer-events: none;
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
        }

        &.expanded .rt-fab-actions {
            opacity: 1;
            transform: translateY(0) scale(1);
            pointer-events: auto;
        }
    }

    .rt-fab {
        display: flex;
        align-items: center;
        justify-content: center;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        transition: all 0.2s ease;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);

        &--main {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--rt-gold), var(--rt-gold-dark));
            color: rgba(10, 12, 18, 0.95);
            font-size: 1.2rem;

            &:hover {
                transform: scale(1.08);
                box-shadow: 0 6px 20px rgba(212, 175, 55, 0.4);
            }

            .expanded & {
                transform: rotate(45deg);
            }
        }

        &--attack,
        &--damage,
        &--reload {
            width: auto;
            height: 36px;
            padding: 0 14px;
            border-radius: 18px;
            gap: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.03em;

            span {
                display: inline;
            }

            i {
                font-size: 0.9rem;
            }
        }

        &--attack {
            background: linear-gradient(135deg, var(--rt-red), var(--rt-red-dark));
            color: white;

            &:hover {
                background: linear-gradient(135deg, var(--rt-red-bright), var(--rt-red));
                transform: scale(1.05);
            }
        }

        &--damage {
            background: linear-gradient(135deg, var(--rt-gold), var(--rt-gold-dark));
            color: rgba(10, 12, 18, 0.95);

            &:hover {
                background: linear-gradient(135deg, var(--rt-gold-bright), var(--rt-gold));
                transform: scale(1.05);
            }
        }

        &--reload {
            background: rgba(14, 18, 26, 0.9);
            border: 1px solid rgba(212, 175, 55, 0.3);
            color: var(--rt-text-dark);

            &:hover {
                border-color: rgba(212, 175, 55, 0.5);
                transform: scale(1.05);
            }
        }

        &--disabled {
            opacity: 0.4;
            pointer-events: none;
        }
    }

    // ── Button Utilities ─────────────────────────────────────────────────
    .rt-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 4px;
        padding: 6px 12px;
        background: rgba(14, 18, 26, 0.6);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 4px;
        font-size: 0.8rem;
        color: var(--rt-text-dark);
        cursor: pointer;
        transition: all 0.2s ease;

        &:hover {
            background: rgba(20, 24, 34, 0.7);
            border-color: rgba(212, 175, 55, 0.3);
        }

        &--icon {
            width: 26px;
            height: 26px;
            padding: 0;
        }

        &--ghost {
            background: transparent;
            border-color: transparent;

            &:hover {
                background: rgba(255, 255, 255, 0.05);
            }
        }

        &--danger {
            color: var(--rt-red);

            &:hover {
                background: rgba(182, 62, 46, 0.15);
                border-color: rgba(182, 62, 46, 0.3);
            }
        }
    }

    // ═══════════════════════════════════════════════════════════════════════
    // ACTION CARDS - Clickable stat cards for rolling and actions
    // ═══════════════════════════════════════════════════════════════════════

    .rt-iconic-stat--action {
        cursor: pointer;

        &:hover {
            transform: translateY(-3px) scale(1.02);
        }

        &:active {
            transform: translateY(-1px) scale(0.98);
        }
    }

    .rt-iconic-stat--attack {
        border-color: rgba(115, 177, 113, 0.5);
        background: linear-gradient(145deg, rgba(74, 132, 72, 0.25), rgba(12, 16, 24, 0.7));

        .rt-iconic-stat__shape {
            color: var(--rt-green-bright);
        }

        .rt-iconic-stat__value {
            color: var(--rt-green-bright);
            font-weight: 700;
        }

        .rt-iconic-stat__glow {
            background: radial-gradient(circle at center, rgba(74, 132, 72, 0.3), transparent 70%);
            box-shadow: inset 0 0 30px rgba(74, 132, 72, 0.2);
        }

        &:hover {
            border-color: rgba(115, 177, 113, 0.8);
            box-shadow: 0 8px 24px rgba(74, 132, 72, 0.35), 0 0 40px rgba(74, 132, 72, 0.2);

            .rt-iconic-stat__shape {
                transform: scale(1.15);
                filter: drop-shadow(0 0 10px rgba(74, 132, 72, 0.7));
            }
        }
    }

    .rt-iconic-stat--reload {
        border-color: rgba(58, 93, 132, 0.4);
        background: linear-gradient(145deg, rgba(58, 93, 132, 0.2), rgba(12, 16, 24, 0.7));

        .rt-iconic-stat__shape {
            color: rgba(178, 208, 234, 0.9);
        }

        .rt-iconic-stat__value {
            color: rgba(178, 208, 234, 0.95);
            font-weight: 600;
        }

        .rt-iconic-stat__glow {
            background: radial-gradient(circle at center, rgba(58, 93, 132, 0.25), transparent 70%);
        }

        &:hover {
            border-color: rgba(98, 142, 185, 0.7);
            box-shadow: 0 8px 24px rgba(58, 93, 132, 0.3);

            .rt-iconic-stat__shape {
                transform: scale(1.15) rotate(180deg);
                filter: drop-shadow(0 0 8px rgba(98, 142, 185, 0.6));
            }
        }
    }

    .rt-iconic-stat--clickable {
        cursor: pointer;

        &:hover {
            transform: translateY(-2px) scale(1.02);
        }

        &:active {
            transform: translateY(0) scale(0.98);
        }
    }

    .rt-iconic-stat--disabled {
        opacity: 0.4;
        pointer-events: none;
        filter: grayscale(0.5);
    }

    // ═══════════════════════════════════════════════════════════════════════
    // READONLY INPUT STYLES - For view mode form fields
    // ═══════════════════════════════════════════════════════════════════════

    .rt-input--readonly {
        background: rgba(0, 0, 0, 0.15) !important;
        border-color: rgba(255, 255, 255, 0.05) !important;
        color: var(--rt-text-medium) !important;
        cursor: default !important;
        pointer-events: none;

        &:focus {
            box-shadow: none !important;
            border-color: rgba(255, 255, 255, 0.05) !important;
        }
    }

    .rt-toggle-switch--readonly {
        opacity: 0.7;
        pointer-events: none;

        .rt-toggle-switch__slider {
            cursor: default;
        }
    }

    .rt-checkbox--readonly {
        opacity: 0.7;
        pointer-events: none;
        cursor: default;
    }
}

// ============================================
// WEAPON SHEET BASE (Legacy V2)
// ============================================

.rt-weapon-sheet,
.rt-weapon-sheet-v2 {
    display: flex;
    flex-direction: column;
    height: 100%;
    background: linear-gradient(150deg, rgba(10, 12, 18, 0.96) 0%, rgba(36, 26, 20, 0.9) 100%);
    color: var(--rt-text-dark);
    font-family: $rt-font-body;
    font-size: 0.9rem;
    overflow: hidden;

    form {
        display: flex;
        flex-direction: column;
        flex: 1;
        min-height: 0;
        overflow: hidden;
    }
}

// ============================================
// HEADER
// ============================================

.rt-weapon-header {
    display: grid;
    grid-template-columns: 56px 1fr auto;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: linear-gradient(135deg, rgba(60, 34, 20, 0.45) 0%, rgba(18, 22, 30, 0.2) 100%);
    border-bottom: 1px solid rgba(212, 175, 55, 0.25);
    box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.35);
}

.rt-weapon-header .rt-item-image {
    border-color: rgba(212, 175, 55, 0.55);
    box-shadow: 0 8px 18px rgba(0, 0, 0, 0.35);
}

.rt-weapon-header .rt-item-title__name {
    font-size: 1.2rem;
    color: rgba(240, 232, 220, 0.95);
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.35);

    &--readonly {
        margin: 0;
        padding: 6px 0;
    }
}

.rt-weapon-meta {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 6px;
}

.rt-weapon-header-actions {
    display: flex;
    align-items: center;
    gap: 8px;
}

// ============================================
// WEAPON BADGES
// ============================================

.rt-meta-badge--weapon {
    background: linear-gradient(135deg, rgba(143, 76, 38, 0.35), rgba(143, 76, 38, 0.2));
    border-color: rgba(212, 140, 80, 0.5);
    color: rgba(246, 208, 163, 0.95);
}

.rt-meta-badge--weapon-class {
    background: linear-gradient(135deg, rgba(182, 62, 46, 0.25), rgba(182, 62, 46, 0.12));
    border-color: rgba(182, 62, 46, 0.5);
    color: rgba(246, 151, 139, 0.95);
}

.rt-meta-badge--weapon-type {
    background: linear-gradient(135deg, rgba(58, 93, 132, 0.35), rgba(58, 93, 132, 0.15));
    border-color: rgba(98, 142, 185, 0.45);
    color: rgba(178, 208, 234, 0.95);
}

.rt-meta-badge--weapon-craft {
    border: 1px solid;

    &.rt-meta-badge--poor {
        background: rgba(139, 0, 0, 0.15);
        border-color: rgba(139, 0, 0, 0.45);
        color: var(--rt-red);
    }

    &.rt-meta-badge--common {
        background: var(--rt-panel-bg-translucent);
        border-color: var(--rt-border-color-light);
        color: var(--rt-text-muted);
    }

    &.rt-meta-badge--good {
        background: rgba(45, 90, 45, 0.18);
        border-color: rgba(45, 90, 45, 0.45);
        color: var(--rt-green);
    }

    &.rt-meta-badge--best,
    &.rt-meta-badge--master-crafted {
        background: rgba(212, 175, 55, 0.2);
        border-color: rgba(212, 175, 55, 0.55);
        color: var(--rt-gold);
    }
}

.rt-meta-badge--weapon-hands {
    background: rgba(25, 28, 34, 0.45);
    border-color: rgba(148, 160, 178, 0.4);
    color: rgba(207, 216, 228, 0.9);
}

// ============================================
// EQUIPPED TOGGLE
// ============================================

.rt-toggle-equipped {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    border-radius: 6px;
    background: rgba(14, 18, 26, 0.6);
    border: 1px solid rgba(212, 175, 55, 0.25);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
    cursor: pointer;
    transition: all 0.2s ease;

    input {
        display: none;
    }

    &__indicator {
        font-size: 1.1rem;
        color: rgba(214, 221, 235, 0.7);
        transition: color 0.2s ease;
    }

    &__label {
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: rgba(214, 221, 235, 0.7);
        transition: color 0.2s ease;
    }

    &:hover {
        background: rgba(20, 24, 34, 0.7);
        border-color: rgba(212, 175, 55, 0.4);
    }

    input:checked ~ .rt-toggle-equipped__indicator {
        color: var(--rt-green-bright);
    }

    input:checked ~ .rt-toggle-equipped__label {
        color: var(--rt-green-bright);
    }
}

// ============================================
// EDIT TOGGLE BUTTON
// ============================================

.rt-edit-toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    padding: 0;
    border-radius: 6px;
    background: rgba(14, 18, 26, 0.6);
    border: 1px solid rgba(212, 175, 55, 0.25);
    color: rgba(214, 221, 235, 0.7);
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 1rem;

    &:hover {
        background: rgba(20, 24, 34, 0.7);
        border-color: rgba(212, 175, 55, 0.4);
        color: rgba(246, 208, 163, 0.95);
    }

    &.active {
        background: linear-gradient(135deg, rgba(80, 46, 28, 0.7), rgba(28, 24, 20, 0.6));
        border-color: rgba(212, 175, 55, 0.55);
        color: var(--rt-gold);
        box-shadow: 0 0 12px rgba(212, 175, 55, 0.3);
    }

    i {
        transition: transform 0.2s ease;
    }

    &.active i {
        transform: scale(1.1);
    }
}

// ============================================
// STAT BAR
// ============================================

.rt-weapon-stats {
    display: flex;
    flex-wrap: wrap;
    gap: 2px;
    margin: 12px 12px 0;
    padding: 10px;
    background: linear-gradient(135deg, rgba(24, 28, 38, 0.75) 0%, rgba(56, 38, 26, 0.7) 100%);
    border: 1px solid rgba(212, 175, 55, 0.2);
    border-radius: 10px;
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.35);

    &--sticky {
        position: sticky;
        top: 0;
        z-index: 10;
        box-shadow: 0 12px 24px rgba(0, 0, 0, 0.35), 0 4px 12px rgba(0, 0, 0, 0.5);
    }
}

.rt-weapon-stat {
    display: flex;
    flex-direction: column;
    align-items: center;
    flex: 1;
    min-width: 60px;
    padding: 8px 6px;
    background: rgba(12, 16, 24, 0.55);
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(8px);

    &__icon {
        font-size: 1rem;
        color: var(--rt-bronze);
        margin-bottom: 4px;
    }

    &__content {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 2px;
    }

    &__label {
        font-size: 0.65rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        color: rgba(202, 210, 222, 0.75);
    }

    &__value {
        font-family: $rt-font-display;
        font-size: 1.05rem;
        font-weight: 700;
        color: rgba(240, 232, 220, 0.95);
        text-shadow: 0 2px 6px rgba(0, 0, 0, 0.35);

        &--positive {
            color: var(--rt-green-bright);
        }

        &--negative {
            color: var(--rt-red-bright);
        }
    }

    &__bar {
        width: 100%;
        height: 4px;
        margin-top: 4px;
        background: rgba(12, 16, 24, 0.45);
        border-radius: 2px;
        overflow: hidden;
    }

    &__bar-fill {
        height: 100%;
        background: var(--rt-green-bright);
        transition: width 0.3s ease;
    }

    // Stat variants
    &--damage {
        .rt-weapon-stat__icon {
            color: var(--rt-red-bright);
        }
        .rt-weapon-stat__value {
            color: var(--rt-red-bright);
        }
    }

    &--pen {
        .rt-weapon-stat__icon {
            color: var(--rt-gold);
        }
    }

    &--ammo-critical {
        border-color: var(--rt-red);
        .rt-weapon-stat__bar-fill {
            background: var(--rt-red-bright);
        }
        .rt-weapon-stat__value {
            color: var(--rt-red-bright);
        }
    }

    &--ammo-low {
        .rt-weapon-stat__bar-fill {
            background: var(--rt-warning-primary);
        }
    }

    &--ammo-empty {
        border-color: var(--rt-red);
        background: var(--rt-danger-bg);
        .rt-weapon-stat__value {
            color: var(--rt-red-bright);
        }
    }
}

// ============================================
// QUALITIES BAR
// ============================================

.rt-weapon-qualities {
    display: flex;
    align-items: center;
    gap: 10px;
    margin: 12px 12px 0;
    padding: 8px 12px;
    background: linear-gradient(135deg, rgba(58, 93, 132, 0.35) 0%, rgba(18, 22, 30, 0.2) 100%);
    border: 1px solid rgba(98, 142, 185, 0.35);
    border-radius: 10px;

    &__label {
        display: flex;
        align-items: center;
        gap: 4px;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        color: rgba(178, 208, 234, 0.95);
        flex-shrink: 0;
    }

    &__tags {
        display: flex;
        flex-wrap: wrap;
        gap: 4px;
    }
}

.rt-quality-tag {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 3px 8px;
    border-radius: 3px;
    font-size: 0.75rem;
    font-weight: 600;
    background: rgba(12, 16, 24, 0.5);
    border: 1px solid rgba(98, 142, 185, 0.4);
    color: rgba(178, 208, 234, 0.95);
    cursor: help;
    transition: all 0.2s ease;

    &:hover {
        background: rgba(58, 93, 132, 0.35);
        transform: translateY(-1px);
        box-shadow: 0 2px 6px var(--rt-shadow-soft);
    }

    &--clickable {
        cursor: pointer;

        .fa-external-link-alt {
            font-size: 0.65rem;
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        &:hover {
            background: rgba(58, 93, 132, 0.5);
            border-color: rgba(98, 142, 185, 0.6);

            .fa-external-link-alt {
                opacity: 1;
            }
        }

        &:active {
            transform: translateY(0);
        }
    }
}

.rt-quality-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
}

// ============================================
// TAB NAVIGATION
// ============================================

.rt-weapon-tabs {
    display: flex;
    gap: 2px;
    margin: 12px 12px 0;
    padding: 6px;
    background: rgba(14, 18, 26, 0.6);
    border: 1px solid rgba(212, 175, 55, 0.15);
    border-radius: 12px;
    backdrop-filter: blur(8px);
}

.rt-weapon-tab {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 8px 14px;
    background: transparent;
    border: 1px solid transparent;
    border-radius: 10px;
    font-size: 0.85rem;
    font-weight: 500;
    color: rgba(210, 216, 228, 0.7);
    cursor: pointer;
    transition: all 0.2s ease;

    i {
        font-size: 0.9rem;
    }

    &:hover {
        color: rgba(240, 232, 220, 0.95);
        background: rgba(30, 34, 44, 0.6);
        border-color: rgba(212, 175, 55, 0.2);
    }

    &.active {
        color: rgba(246, 208, 163, 0.95);
        border-color: rgba(212, 175, 55, 0.45);
        background: linear-gradient(135deg, rgba(80, 46, 28, 0.7), rgba(28, 24, 20, 0.6));
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.35);
    }
}

// ============================================
// TAB CONTENT
// ============================================

.rt-weapon-content {
    flex: 1;
    overflow-y: auto;
    padding: 12px;

    // Scrollbar styling
    &::-webkit-scrollbar {
        width: 8px;
    }

    &::-webkit-scrollbar-track {
        background: var(--rt-panel-bg);
    }

    &::-webkit-scrollbar-thumb {
        background: var(--rt-border-color);
        border-radius: 4px;

        &:hover {
            background: var(--rt-gold-dark);
        }
    }
}

.rt-weapon-panel {
    display: none;

    &.active {
        display: block;
    }
}

// ============================================
// WEAPON ACTIONS (ROLL BUTTONS)
// ============================================

.rt-weapon-actions {
    display: flex;
    gap: 8px;
    margin-bottom: 12px;
    padding: 12px;
    background: rgba(12, 16, 24, 0.55);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 10px;

    .rt-btn {
        flex: 1;
        justify-content: center;
        padding: 12px 16px;
        font-size: 0.9rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.05em;

        &--attack {
            background: linear-gradient(135deg, var(--rt-red) 0%, var(--rt-red-dark) 100%);
            border-color: var(--rt-red-dark);
            color: white;

            &:hover {
                background: linear-gradient(135deg, var(--rt-red-bright) 0%, var(--rt-red) 100%);
                box-shadow: 0 4px 12px rgba(139, 0, 0, 0.4);
            }
        }

        &--damage {
            background: linear-gradient(135deg, var(--rt-gold) 0%, var(--rt-gold-dark) 100%);
            border-color: var(--rt-gold-dark);
            color: white;

            &:hover {
                background: linear-gradient(135deg, var(--rt-gold-bright) 0%, var(--rt-gold) 100%);
                box-shadow: 0 4px 12px rgba(212, 175, 55, 0.4);
            }
        }

        &--reload {
            background: var(--rt-btn-bg);
            border-color: var(--rt-border-color);
            color: var(--rt-text-dark);

            &:hover {
                background: var(--rt-btn-bg-hover);
                border-color: var(--rt-gold);
            }
        }
    }
}

// ============================================
// EDIT NOTICE
// ============================================

.rt-edit-notice {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 12px;
    margin-bottom: 12px;
    background: rgba(58, 93, 132, 0.2);
    border: 1px solid rgba(98, 142, 185, 0.35);
    border-radius: 6px;
    font-size: 0.85rem;
    color: rgba(178, 208, 234, 0.95);

    i {
        font-size: 1rem;
        color: rgba(98, 142, 185, 0.8);
    }
}

// ============================================
// SECTIONS
// ============================================

.rt-weapon-section {
    background: rgba(12, 16, 24, 0.55);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 10px;
    margin-bottom: 12px;
    overflow: hidden;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.35);

    &__header {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 10px 12px;
        background: linear-gradient(135deg, rgba(62, 34, 22, 0.5) 0%, rgba(16, 20, 28, 0.2) 100%);
        border-bottom: 1px solid rgba(255, 255, 255, 0.08);

        i {
            font-size: 0.9rem;
            color: var(--rt-bronze);
        }

        h3 {
            flex: 1;
            margin: 0;
            font-family: $rt-font-heading;
            font-size: 0.95rem;
            font-weight: 600;
            color: rgba(240, 232, 220, 0.95);
        }
    }

    &__count {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        min-width: 20px;
        height: 20px;
        padding: 0 6px;
        border-radius: 10px;
        background: rgba(58, 93, 132, 0.25);
        border: 1px solid rgba(98, 142, 185, 0.45);
        font-size: 0.75rem;
        font-weight: 700;
        color: rgba(178, 208, 234, 0.95);
    }

    &__badge {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        padding: 3px 8px;
        border-radius: 4px;
        font-size: 0.7rem;
        font-weight: 600;

        &--warning {
            background: rgba(171, 110, 24, 0.18);
            border: 1px solid rgba(210, 138, 32, 0.55);
            color: rgba(246, 190, 120, 0.95);
        }
    }

    &__body {
        padding: 12px;
    }

    &--full .rt-weapon-section__body {
        padding: 0;
    }

    &--craftsmanship {
        border-color: rgba(212, 175, 55, 0.6);

        .rt-weapon-section__header {
            background: linear-gradient(135deg, rgba(212, 175, 55, 0.25) 0%, rgba(212, 175, 55, 0.08) 100%);
            border-bottom-color: rgba(212, 175, 55, 0.5);

            h3 {
                color: rgba(246, 208, 163, 0.95);
            }
            i {
                color: rgba(246, 208, 163, 0.95);
            }
        }
    }
}

// ============================================
// FORM FIELDS
// ============================================

.rt-field-row {
    display: flex;
    gap: 10px;
    margin-bottom: 10px;

    &:last-child {
        margin-bottom: 0;
    }

    &--checkboxes {
        flex-wrap: wrap;
        gap: 16px;
    }
}

.rt-field {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 4px;

    &--small {
        flex: 0 0 70px;
    }

    label {
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.03em;
        color: var(--rt-text-muted);
    }

    input,
    select,
    textarea {
        padding: 6px 10px;
        background: var(--rt-input-bg);
        border: 1px solid var(--rt-border-color-light);
        border-radius: 4px;
        font-size: 0.9rem;
        color: var(--rt-text-dark);
        transition: border-color 0.2s ease, box-shadow 0.2s ease;

        &:focus {
            outline: none;
            border-color: var(--rt-gold);
            box-shadow: 0 0 0 2px rgba(212, 175, 55, 0.2);
        }
    }

    input[type='number'] {
        text-align: center;
    }

    select {
        cursor: pointer;
    }

    textarea {
        resize: vertical;
        min-height: 60px;
    }

    &-value {
        padding: 6px 10px;
        background: rgba(12, 16, 24, 0.35);
        border: 1px solid rgba(255, 255, 255, 0.05);
        border-radius: 4px;
        font-size: 0.9rem;
        color: var(--rt-text-medium);
        min-height: 32px;
        display: flex;
        align-items: center;
    }
}

.rt-checkbox {
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;

    input {
        width: 16px;
        height: 16px;
        accent-color: var(--rt-gold);
    }

    span {
        display: flex;
        align-items: center;
        gap: 4px;
        font-size: 0.85rem;
        color: var(--rt-text-medium);

        i {
            font-size: 0.8rem;
        }
    }
}

// ============================================
// AMMO DISPLAY
// ============================================

.rt-ammo-display {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 12px;

    &__bar {
        flex: 1;
        position: relative;
        height: 28px;
        background: var(--rt-panel-bg-translucent);
        border: 1px solid var(--rt-border-color);
        border-radius: 4px;
        overflow: hidden;
    }

    &__fill {
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        transition: width 0.3s ease;

        &--good {
            background: linear-gradient(90deg, var(--rt-green) 0%, var(--rt-green-bright) 100%);
        }

        &--low {
            background: linear-gradient(90deg, var(--rt-warning-primary) 0%, var(--rt-warning-secondary) 100%);
        }

        &--critical {
            background: linear-gradient(90deg, var(--rt-red) 0%, var(--rt-red-bright) 100%);
        }

        &--empty {
            background: var(--rt-red);
        }
    }

    &__text {
        position: absolute;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.9rem;
        font-weight: 700;
        color: var(--rt-text-dark);
        text-shadow: 0 1px 2px rgba(255, 255, 255, 0.5);
    }

    &__controls {
        flex-shrink: 0;
    }
}

// ============================================
// CRAFTSMANSHIP EFFECTS
// ============================================

.rt-craftsmanship-effects {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
}

.rt-craftsmanship-effect {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    background: var(--rt-panel-bg-translucent);
    border: 1px solid var(--rt-gold);
    border-radius: 4px;

    &__label {
        font-size: 0.8rem;
        font-weight: 600;
        color: var(--rt-text-muted);
    }

    &__value {
        font-size: 1rem;
        font-weight: 700;

        &--positive {
            color: var(--rt-green-bright);
        }
        &--negative {
            color: var(--rt-red-bright);
        }
    }

    &--quality {
        .rt-craftsmanship-effect__value {
            color: var(--rt-gold);
        }
    }
}

// ============================================
// QUALITIES GRID
// ============================================

.rt-qualities-grid {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.rt-quality-card {
    padding: 10px 12px;
    background: var(--rt-panel-bg-translucent);
    border: 1px solid var(--rt-border-color-light);
    border-radius: 4px;

    &__header {
        display: flex;
        align-items: baseline;
        gap: 4px;
        margin-bottom: 4px;
    }

    &__name {
        font-weight: 600;
        color: var(--rt-talents-primary);
    }

    &__level {
        font-size: 0.85rem;
        font-weight: 700;
        color: var(--rt-gold);
    }

    &__description {
        font-size: 0.85rem;
        line-height: 1.4;
        color: var(--rt-text-medium);
    }
}

// ============================================
// MODIFICATIONS LIST
// ============================================

.rt-mods-list {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.rt-mod-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 10px;
    background: var(--rt-panel-bg-translucent);
    border: 1px solid var(--rt-border-color-light);
    border-radius: 4px;

    &__name {
        font-weight: 500;
        color: var(--rt-text-dark);
    }

    &__actions {
        display: flex;
        gap: 4px;
    }
}

// ============================================
// MODIFICATION CARDS (Enhanced for Properties Tab)
// ============================================

.rt-mod-card {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    padding: 10px 12px;
    margin-bottom: 8px;
    transition: all 0.2s ease;

    &:last-child {
        margin-bottom: 0;
    }

    &:hover {
        border-color: rgba(212, 175, 55, 0.3);
        box-shadow: 0 2px 8px rgba(212, 175, 55, 0.1);
    }

    &--inactive {
        opacity: 0.5;
        border-color: rgba(255, 255, 255, 0.05);

        .rt-mod-card__name {
            text-decoration: line-through;
            color: var(--rt-text-muted);
        }
    }

    &__header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 8px;
    }

    &__title {
        display: flex;
        align-items: center;
        gap: 8px;

        i {
            color: var(--rt-gold);
            font-size: 0.9rem;
        }
    }

    &__name {
        font-weight: 600;
        color: var(--rt-text-dark);
    }

    &__actions {
        display: flex;
        gap: 4px;
    }

    &__effects {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        margin-top: 8px;
    }
}

.rt-mod-effect {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 4px 8px;
    background: rgba(58, 93, 132, 0.2);
    border: 1px solid rgba(98, 142, 185, 0.3);
    border-radius: 4px;
    font-size: 0.75rem;
    color: rgba(178, 208, 234, 0.95);

    i {
        font-size: 0.65rem;
    }
}

.rt-mod-toggle {
    &--active {
        color: var(--rt-green-bright);
    }
}

// ============================================
// MODIFICATIONS BANNER (Overview Tab)
// ============================================

.rt-modifications-banner {
    background: linear-gradient(135deg, rgba(58, 93, 132, 0.25), rgba(58, 93, 132, 0.1));
    border: 1px solid rgba(98, 142, 185, 0.3);
    border-left: 3px solid rgba(98, 142, 185, 0.6);
    border-radius: 6px;
    padding: 10px 12px;

    &__header {
        display: flex;
        align-items: center;
        gap: 6px;
        font-weight: 600;
        color: rgba(178, 208, 234, 0.95);
        margin-bottom: 8px;

        i {
            font-size: 0.9rem;
        }
    }

    &__summary {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
    }
}

.rt-mod-badge {
    padding: 3px 8px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 4px;
    font-size: 0.7rem;
    font-weight: 500;
    color: var(--rt-text-dark);
    cursor: help;
}

// ============================================
// MODIFIED STAT INDICATOR
// ============================================

.rt-weapon-stat {
    &--modified {
        position: relative;

        .rt-weapon-stat__icon {
            position: relative;
        }

        .rt-weapon-stat__value {
            color: var(--rt-gold);
            font-weight: 700;
        }
    }

    &__modified-badge {
        position: absolute;
        top: -4px;
        right: -4px;
        width: 14px;
        height: 14px;
        background: var(--rt-gold);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;

        i {
            font-size: 0.45rem;
            color: rgba(10, 12, 18, 0.9);
        }
    }
}

// ============================================
// EMPTY STATE FOR MODS
// ============================================

.rt-empty-state--mods {
    text-align: center;
    padding: 30px 20px;
    color: var(--rt-text-muted);

    i {
        font-size: 2.5em;
        color: rgba(255, 255, 255, 0.2);
        margin-bottom: 12px;
        display: block;
    }

    p {
        margin: 0 0 6px;
        color: var(--rt-text-medium);

        &:last-child {
            margin-bottom: 0;
        }
    }

    .rt-empty-hint {
        font-size: 0.8rem;
        font-style: italic;
        margin-top: 8px;
        color: var(--rt-text-muted);
    }
}

// ============================================
// PROSE EDITOR
// ============================================

.rt-prose-editor {
    .prosemirror {
        min-height: 120px;
        padding: 12px;
        background: var(--rt-input-bg);
        border: 1px solid var(--rt-border-color-light);
        border-radius: 4px;
    }
}

// ============================================
// EMPTY MESSAGE
// ============================================

.rt-empty-message {
    margin: 0;
    padding: 20px;
    text-align: center;
    font-style: italic;
    color: var(--rt-text-muted);
}

// ============================================
// BUTTONS
// ============================================

.rt-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    padding: 8px 16px;
    background: var(--rt-btn-bg);
    border: 1px solid var(--rt-border-color);
    border-radius: 4px;
    font-size: 0.85rem;
    font-weight: 500;
    color: var(--rt-text-dark);
    cursor: pointer;
    transition: all 0.2s ease;

    &:hover {
        background: var(--rt-btn-bg-hover);
        transform: translateY(-1px);
        box-shadow: 0 2px 6px var(--rt-shadow-soft);
    }

    &--small {
        padding: 4px 10px;
        font-size: 0.8rem;
    }

    &--icon {
        width: 28px;
        height: 28px;
        padding: 0;
    }

    &--ghost {
        background: transparent;
        border-color: transparent;

        &:hover {
            background: var(--rt-panel-bg-translucent);
        }
    }

    &--danger {
        color: var(--rt-red);

        &:hover {
            background: var(--rt-danger-bg);
            border-color: var(--rt-red);
        }
    }
}

// ============================================
// WEAPON CHAT CARD
// ============================================

.rt-weapon-card {
    background: var(--rt-panel-bg-solid);
    border: 2px solid var(--rt-combat-border);
    border-radius: 6px;
    overflow: hidden;
    font-family: 'Roboto', sans-serif;

    &__header {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 10px 12px;
        background: linear-gradient(135deg, var(--rt-combat-bg) 0%, transparent 100%);
        border-bottom: 1px solid var(--rt-border-color-light);
    }

    &__image {
        width: 40px;
        height: 40px;
        border: 2px solid var(--rt-bronze);
        border-radius: 4px;
        object-fit: cover;
    }

    &__title {
        flex: 1;
        min-width: 0;
    }

    &__name {
        margin: 0;
        font-family: 'Cinzel', serif;
        font-size: 1.1rem;
        font-weight: 600;
        color: var(--rt-bronze);
        line-height: 1.2;
    }

    &__meta {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 4px;
        margin-top: 2px;
        font-size: 0.75rem;
        color: var(--rt-text-muted);
        text-transform: uppercase;
        letter-spacing: 0.03em;
    }

    &__divider {
        color: var(--rt-border-color);
    }

    &__craft {
        font-weight: 600;

        &--poor {
            color: var(--rt-red);
        }
        &--good {
            color: var(--rt-green);
        }
        &--best,
        &--master-crafted {
            color: var(--rt-gold);
        }
    }

    &__stats {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1px;
        padding: 1px;
        background: var(--rt-border-color-light);
    }

    &__stat {
        display: flex;
        align-items: baseline;
        gap: 6px;
        padding: 8px 10px;
        background: var(--rt-panel-bg);

        &-label {
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            color: var(--rt-text-muted);
        }

        &-value {
            font-family: 'Cinzel', serif;
            font-size: 0.95rem;
            font-weight: 700;
            color: var(--rt-text-dark);
        }

        &--damage .rt-weapon-card__stat-value {
            color: var(--rt-red-bright);
        }
        &--pen .rt-weapon-card__stat-value {
            color: var(--rt-gold);
        }
    }

    &__craft-mods {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 8px 12px;
        background: rgba(212, 175, 55, 0.1);
        border-bottom: 1px solid var(--rt-border-color-light);
        font-size: 0.8rem;

        i {
            color: var(--rt-gold);
        }
    }

    &__mod {
        font-weight: 600;

        &--positive {
            color: var(--rt-green-bright);
        }
        &--negative {
            color: var(--rt-red-bright);
        }
    }

    &__qualities {
        display: flex;
        flex-wrap: wrap;
        gap: 4px;
        padding: 8px 12px;
        border-bottom: 1px solid var(--rt-border-color-light);
    }

    &__quality {
        padding: 2px 6px;
        background: var(--rt-talents-bg);
        border: 1px solid var(--rt-talents-border);
        border-radius: 3px;
        font-size: 0.7rem;
        font-weight: 600;
        color: var(--rt-talents-primary);
    }

    &__description {
        padding: 10px 12px;
        font-size: 0.85rem;
        line-height: 1.4;
        color: var(--rt-text-medium);
        border-bottom: 1px solid var(--rt-border-color-light);

        p {
            margin: 0 0 6px;
            &:last-child {
                margin-bottom: 0;
            }
        }
    }

    &__actions {
        display: flex;
        gap: 6px;
        padding: 10px 12px;
        justify-content: center;
    }

    &__btn {
        display: flex;
        align-items: center;
        gap: 5px;
        padding: 6px 14px;
        border: 1px solid;
        border-radius: 4px;
        font-size: 0.8rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.03em;
        cursor: pointer;
        transition: all 0.2s ease;

        &--attack {
            background: linear-gradient(135deg, var(--rt-red) 0%, var(--rt-red-dark) 100%);
            border-color: var(--rt-red-dark);
            color: white;

            &:hover {
                background: linear-gradient(135deg, var(--rt-red-bright) 0%, var(--rt-red) 100%);
                transform: translateY(-1px);
                box-shadow: 0 3px 8px rgba(139, 0, 0, 0.4);
            }
        }

        &--damage {
            background: linear-gradient(135deg, var(--rt-gold) 0%, var(--rt-gold-dark) 100%);
            border-color: var(--rt-gold-dark);
            color: white;

            &:hover {
                background: linear-gradient(135deg, var(--rt-gold-bright) 0%, var(--rt-gold) 100%);
                transform: translateY(-1px);
                box-shadow: 0 3px 8px rgba(212, 175, 55, 0.4);
            }
        }

        &--reload {
            background: var(--rt-btn-bg);
            border-color: var(--rt-border-color);
            color: var(--rt-text-dark);

            &:hover {
                background: var(--rt-btn-bg-hover);
                transform: translateY(-1px);
            }
        }
    }

    &__footer {
        padding: 6px 12px;
        border-top: 1px solid var(--rt-border-color-light);
        text-align: right;
    }

    &__source {
        font-size: 0.7rem;
        font-style: italic;
        color: var(--rt-text-muted);
    }
}

// ============================================
// MODIFICATION DROPZONE ENHANCEMENTS
// ============================================

.rt-mod-dropzone {
    position: relative;
    transition: all 0.3s ease;

    &::before {
        content: '';
        position: absolute;
        inset: 0;
        border: 2px dashed transparent;
        border-radius: 4px;
        transition: all 0.3s ease;
        pointer-events: none;
    }

    // Drag-over state
    &.drag-over {
        background: rgba(212, 175, 55, 0.08);
        box-shadow: inset 0 0 20px rgba(212, 175, 55, 0.15);

        &::before {
            border-color: rgba(212, 175, 55, 0.6);
            box-shadow: 0 0 12px rgba(212, 175, 55, 0.35);
        }

        .rt-empty-hint {
            color: var(--rt-gold-bright);
            transform: scale(1.05);
        }
    }

    // Invalid drop
    &.drag-invalid {
        background: rgba(182, 62, 46, 0.08);

        &::before {
            border-color: rgba(182, 62, 46, 0.6);
        }

        .rt-empty-hint {
            color: var(--rt-danger);
        }
    }
}

.rt-dropzone-info {
    margin-top: 16px;
    padding: 12px;
    background: rgba(10, 12, 18, 0.45);
    border: 1px solid rgba(212, 175, 55, 0.2);
    border-radius: 4px;

    &__header {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 12px;
        padding-bottom: 8px;
        border-bottom: 1px solid rgba(212, 175, 55, 0.15);
        color: rgba(246, 208, 163, 0.95);
        font-weight: 600;
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;

        i {
            color: var(--rt-gold);
        }
    }

    &__body {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }
}

.rt-dropzone-compatibility {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.rt-dropzone-compat__item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 10px;
    background: rgba(212, 175, 55, 0.05);
    border-left: 2px solid rgba(212, 175, 55, 0.4);
    border-radius: 2px;
    font-size: 0.8rem;
    color: rgba(240, 232, 220, 0.85);

    i {
        color: var(--rt-success);
        font-size: 0.9rem;
    }

    strong {
        color: var(--rt-gold-bright);
        font-weight: 600;
    }
}

.rt-dropzone-categories {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.rt-dropzone-category__label {
    display: block;
    margin-bottom: 4px;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: rgba(246, 208, 163, 0.8);
}

.rt-mod-category-badges {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
}

.rt-mod-category-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 4px 10px;
    background: linear-gradient(135deg, rgba(58, 93, 132, 0.25), rgba(58, 93, 132, 0.12));
    border: 1px solid rgba(98, 142, 185, 0.35);
    border-radius: 3px;
    font-size: 0.75rem;
    color: rgba(178, 208, 234, 0.9);
    transition: all 0.2s ease;
    cursor: help;

    i {
        font-size: 0.85rem;
        color: rgba(178, 208, 234, 0.8);
    }

    &:hover {
        background: linear-gradient(135deg, rgba(58, 93, 132, 0.35), rgba(58, 93, 132, 0.2));
        border-color: rgba(98, 142, 185, 0.5);
        transform: translateY(-1px);
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25);
    }
}

// ============================================
// MODIFICATION CATEGORY ICONS
// ============================================

.rt-mod-category-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    margin-right: 6px;
    background: linear-gradient(135deg, rgba(58, 93, 132, 0.25), rgba(58, 93, 132, 0.12));
    border: 1px solid rgba(98, 142, 185, 0.35);
    border-radius: 3px;
    font-size: 0.75rem;
    color: rgba(178, 208, 234, 0.9);
    transition: all 0.2s ease;

    i {
        font-size: 0.8rem;
    }

    // Category-specific colors
    [data-category='sight'] & {
        background: linear-gradient(135deg, rgba(212, 175, 55, 0.25), rgba(212, 175, 55, 0.12));
        border-color: rgba(212, 175, 55, 0.35);
        color: rgba(246, 208, 163, 0.9);
    }

    [data-category='barrel'] & {
        background: linear-gradient(135deg, rgba(143, 76, 38, 0.25), rgba(143, 76, 38, 0.12));
        border-color: rgba(212, 140, 80, 0.35);
        color: rgba(246, 208, 163, 0.9);
    }

    [data-category='stock'] & {
        background: linear-gradient(135deg, rgba(182, 62, 46, 0.25), rgba(182, 62, 46, 0.12));
        border-color: rgba(182, 62, 46, 0.35);
        color: rgba(246, 151, 139, 0.9);
    }

    [data-category='magazine'] & {
        background: linear-gradient(135deg, rgba(74, 132, 72, 0.25), rgba(74, 132, 72, 0.12));
        border-color: rgba(115, 177, 113, 0.35);
        color: rgba(178, 234, 176, 0.9);
    }
}

// Active modification list dropzone highlighting
.rt-mods-list[data-drop-zone='modifications'] {
    position: relative;
    transition: all 0.3s ease;

    &::after {
        content: 'Drop modification here';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
        background: rgba(212, 175, 55, 0.12);
        border: 2px dashed rgba(212, 175, 55, 0.6);
        border-radius: 4px;
        font-weight: 600;
        color: var(--rt-gold-bright);
        text-align: center;
        opacity: 0;
        pointer-events: none;
        transition: all 0.3s ease;
        z-index: 10;
    }

    &.drag-over::after {
        opacity: 1;
    }
}
