<div class="rt-skills-panel">
    {{!-- Search and Filter Controls --}}
    <div class="rt-skills-controls">
        <div class="rt-search-box">
            <i class="fas fa-search rt-search-icon"></i>
            <input type="search"
                   class="rt-skills-search"
                   placeholder="Search skills..."
                   data-action="filterSkills"
                   autocomplete="off">
            <button type="button" class="rt-search-clear" data-action="clearSkillsSearch" title="Clear search">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="rt-filter-controls">
            <select class="rt-skills-char-filter" data-action="filterSkills">
                <option value="">All Characteristics</option>
                <option value="weaponSkill">Weapon Skill (WS)</option>
                <option value="ballisticSkill">Ballistic Skill (BS)</option>
                <option value="strength">Strength (S)</option>
                <option value="toughness">Toughness (T)</option>
                <option value="agility">Agility (Ag)</option>
                <option value="intelligence">Intelligence (Int)</option>
                <option value="perception">Perception (Per)</option>
                <option value="willpower">Willpower (WP)</option>
                <option value="fellowship">Fellowship (Fel)</option>
            </select>
            <select class="rt-skills-training-filter" data-action="filterSkills">
                <option value="">All Training Levels</option>
                <option value="0">Untrained</option>
                <option value="1">Trained</option>
                <option value="2">+10</option>
                <option value="3">+20</option>
            </select>
        </div>
    </div>

    <div class="rt-skills-columns">
        <!-- Left Column -->
        <div class="rt-skills-column">
            {{#each skillLists.standardColumns.[0] as |entry|}}
            <div class="rt-skill-row" data-skill="{{entry.[0]}}" data-skill-name="{{entry.[1].label}}" data-characteristic="{{entry.[1].characteristic}}" data-training-level="{{entry.[1].trainingLevel}}">
                <div class="rt-skill-info">
                    <img class="rt-skill-icon" src="{{skillIcon entry.[0]}}" alt="" loading="lazy">
                    <button type="button" class="rt-skill-name roll-skill" data-skill="{{entry.[0]}}"
                            data-rt-tooltip="skill" data-rt-tooltip-data="{{entry.[1].tooltipData}}">
                        <span class="rt-skill-label">{{entry.[1].label}} <span class="rt-skill-char">({{entry.[1].charShort}})</span></span>
                    </button>
                </div>
                <div class="rt-spec-training">
                    <button type="button" class="rt-train-btn {{#if (gte entry.[1].trainingLevel 1)}}active{{/if}}"
                            data-skill="{{entry.[0]}}" data-level="1" title="Trained (+0 bonus)">T</button>
                    <button type="button" class="rt-train-btn {{#if (gte entry.[1].trainingLevel 2)}}active{{/if}}"
                            data-skill="{{entry.[0]}}" data-level="2" title="+10 Bonus">+10</button>
                    <button type="button" class="rt-train-btn {{#if (gte entry.[1].trainingLevel 3)}}active{{/if}}"
                            data-skill="{{entry.[0]}}" data-level="3" title="+20 Bonus">+20</button>
                </div>
                <div class="rt-skill-total" title="{{entry.[1].breakdown}}">
                    <span>{{entry.[1].current}}</span>
                </div>
            </div>
            {{/each}}
        </div>
        <!-- Right Column -->
        <div class="rt-skills-column">
            {{#each skillLists.standardColumns.[1] as |entry|}}
            <div class="rt-skill-row" data-skill="{{entry.[0]}}" data-skill-name="{{entry.[1].label}}" data-characteristic="{{entry.[1].characteristic}}" data-training-level="{{entry.[1].trainingLevel}}">
                <div class="rt-skill-info">
                    <img class="rt-skill-icon" src="{{skillIcon entry.[0]}}" alt="" loading="lazy">
                    <button type="button" class="rt-skill-name roll-skill" data-skill="{{entry.[0]}}"
                            data-rt-tooltip="skill" data-rt-tooltip-data="{{entry.[1].tooltipData}}">
                        <span class="rt-skill-label">{{entry.[1].label}} <span class="rt-skill-char">({{entry.[1].charShort}})</span></span>
                    </button>
                </div>
                <div class="rt-spec-training">
                    <button type="button" class="rt-train-btn {{#if (gte entry.[1].trainingLevel 1)}}active{{/if}}"
                            data-skill="{{entry.[0]}}" data-level="1" title="Trained (+0 bonus)">T</button>
                    <button type="button" class="rt-train-btn {{#if (gte entry.[1].trainingLevel 2)}}active{{/if}}"
                            data-skill="{{entry.[0]}}" data-level="2" title="+10 Bonus">+10</button>
                    <button type="button" class="rt-train-btn {{#if (gte entry.[1].trainingLevel 3)}}active{{/if}}"
                            data-skill="{{entry.[0]}}" data-level="3" title="+20 Bonus">+20</button>
                </div>
                <div class="rt-skill-total" title="{{entry.[1].breakdown}}">
                    <span>{{entry.[1].current}}</span>
                </div>
            </div>
            {{/each}}
        </div>
    </div>
</div>
