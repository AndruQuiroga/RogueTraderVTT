{{!-- Rogue Trader NPC Sheet --}}
<div class="rt-wrapper">
    <form class="rt-actor rt-sheet rt-npc-sheet" autocomplete="off">
        {{!-- NPC Header --}}
        <div class="rt-header rt-grid-col-6 rt-panel rt-npc-header">
            <div class="rt-header__info">
                <div class="rt-header__logo rt-portrait-container">
                    <img class="rt-header__logo-image rt-portrait" src="{{actor.img}}" data-edit="img" alt="{{actor.name}}" title="{{actor.name}}" />
                </div>
                <div class="rt-header-info">
                    <div class="rt-header-row rt-name-row">
                        <span class="rt-header-label">{{localize "RT.NPC.Name"}}</span>
                        <input class="rt-header-input rt-name-input" name="name" type="text" value="{{actor.name}}" />
                    </div>
                    <div class="rt-header-row">
                        <span class="rt-header-label">{{localize "RT.NPC.Type"}}</span>
                        <select class="rt-header-input rt-header-select" name="system.type">
                            <option value="troop" {{#if (eq system.type "troop")}}selected{{/if}}>{{localize "RT.NPCType.Troop"}}</option>
                            <option value="elite" {{#if (eq system.type "elite")}}selected{{/if}}>{{localize "RT.NPCType.Elite"}}</option>
                            <option value="master" {{#if (eq system.type "master")}}selected{{/if}}>{{localize "RT.NPCType.Master"}}</option>
                            <option value="horde" {{#if (eq system.type "horde")}}selected{{/if}}>{{localize "RT.NPCType.Horde"}}</option>
                            <option value="swarm" {{#if (eq system.type "swarm")}}selected{{/if}}>{{localize "RT.NPCType.Swarm"}}</option>
                            <option value="creature" {{#if (eq system.type "creature")}}selected{{/if}}>{{localize "RT.NPCType.Creature"}}</option>
                            <option value="daemon" {{#if (eq system.type "daemon")}}selected{{/if}}>{{localize "RT.NPCType.Daemon"}}</option>
                            <option value="xenos" {{#if (eq system.type "xenos")}}selected{{/if}}>{{localize "RT.NPCType.Xenos"}}</option>
                        </select>
                    </div>
                    <div class="rt-header-row">
                        <span class="rt-header-label">{{localize "RT.NPC.Faction"}}</span>
                        <input class="rt-header-input" name="system.faction" type="text" value="{{system.faction}}" placeholder="e.g., Ork, Chaos, Eldar" />
                    </div>
                    <div class="rt-header-row">
                        <span class="rt-header-label">{{localize "RT.NPC.Allegiance"}}</span>
                        <input class="rt-header-input" name="system.allegiance" type="text" value="{{system.allegiance}}" placeholder="e.g., Hostile, Neutral" />
                    </div>
                </div>
                <div class="rt-quick-stats">
                    <div class="rt-stat-box rt-threat-box">
                        <span class="rt-stat-label">Threat</span>
                        <input type="number" class="rt-stat-input rt-stat-single rt-threat-input" name="system.threatLevel" value="{{system.threatLevel}}" min="0" />
                    </div>
                    <div class="rt-stat-box rt-wounds-box">
                        <span class="rt-stat-label">Wounds</span>
                        <div class="rt-stat-values">
                            <input type="number" class="rt-stat-input" name="system.wounds.value" value="{{system.wounds.value}}" title="Current" />
                            <span class="rt-stat-separator">/</span>
                            <input type="number" class="rt-stat-input" name="system.wounds.max" value="{{system.wounds.max}}" title="Max" />
                        </div>
                    </div>
                    <div class="rt-stat-box rt-fate-box">
                        <span class="rt-stat-label">Fate</span>
                        <div class="rt-stat-values">
                            <input type="number" class="rt-stat-input" name="system.fate.value" value="{{system.fate.value}}" title="Current" />
                            <span class="rt-stat-separator">/</span>
                            <input type="number" class="rt-stat-input" name="system.fate.max" value="{{system.fate.max}}" title="Max" />
                        </div>
                    </div>
                </div>
            </div>
        </div>

        {{!-- Navigation Tabs --}}
        <div class="rt-navigation" data-group="primary">
            <label class="rt-navigation__item rt-nav-item">
                <a class="item" data-tab="combat" data-group="primary">
                    <span class="material-icons">gps_fixed</span>
                    {{localize "RT.Tabs.Combat"}}
                </a>
            </label>
            <label class="rt-navigation__item rt-nav-item">
                <a class="item" data-tab="abilities" data-group="primary">
                    <span class="material-icons">psychology</span>
                    {{localize "RT.Tabs.Abilities"}}
                </a>
            </label>
            <label class="rt-navigation__item rt-nav-item">
                <a class="item" data-tab="gear" data-group="primary">
                    <span class="material-icons">inventory_2</span>
                    {{localize "RT.Tabs.Gear"}}
                </a>
            </label>
            <label class="rt-navigation__item rt-nav-item">
                <a class="item" data-tab="powers" data-group="primary">
                    <span class="material-icons">auto_fix_high</span>
                    {{localize "RT.Tabs.Powers"}}
                </a>
            </label>
            <label class="rt-navigation__item rt-nav-item">
                <a class="item" data-tab="notes" data-group="primary">
                    <span class="material-icons">description</span>
                    {{localize "RT.NPC.Notes"}}
                </a>
            </label>
        </div>

        {{!-- Tab Content --}}
        <section class="rt-body">
            {{!-- COMBAT TAB --}}
            <div class="tab rt-tab" data-group="primary" data-tab="combat">
                {{> systems/rogue-trader/templates/actor/panel/wounds-panel.hbs}}
                {{> systems/rogue-trader/templates/actor/panel/fatigue-panel.hbs}}
                {{> systems/rogue-trader/templates/actor/panel/fate-panel.hbs}}
                {{> systems/rogue-trader/templates/actor/panel/armour-display-panel.hbs}}
                {{> systems/rogue-trader/templates/actor/panel/combat-controls-panel.hbs}}
                {{> systems/rogue-trader/templates/actor/panel/characteristic-roller-panel.hbs}}
                {{> systems/rogue-trader/templates/actor/panel/movement-panel.hbs}}
                {{> systems/rogue-trader/templates/actor/panel/active-effects-panel.hbs}}
                {{> systems/rogue-trader/templates/actor/panel/weapon-panel.hbs}}
            </div>

            {{!-- ABILITIES TAB --}}
            <div class="tab rt-tab" data-group="primary" data-tab="abilities">
                {{> systems/rogue-trader/templates/actor/panel/characteristic-panel.hbs}}
                {{> systems/rogue-trader/templates/actor/panel/trait-panel.hbs}}
                {{> systems/rogue-trader/templates/actor/panel/bonuses-panel.hbs}}
                {{> systems/rogue-trader/templates/actor/panel/skills-panel.hbs}}
                {{> systems/rogue-trader/templates/actor/panel/skills-specialist-panel.hbs}}
                {{> systems/rogue-trader/templates/actor/panel/talent-panel.hbs}}
            </div>

            {{!-- GEAR TAB --}}
            <div class="tab rt-tab" data-group="primary" data-tab="gear">
                {{> systems/rogue-trader/templates/actor/panel/encumbrance-panel.hbs}}
                {{> systems/rogue-trader/templates/actor/panel/armour-panel.hbs}}
                {{> systems/rogue-trader/templates/actor/panel/storage-location-panel.hbs}}
                {{> systems/rogue-trader/templates/actor/panel/backpack-panel.hbs}}
                {{> systems/rogue-trader/templates/actor/panel/gear-panel.hbs}}
            </div>

            {{!-- POWERS TAB --}}
            <div class="tab rt-tab" data-group="primary" data-tab="powers">
                {{> systems/rogue-trader/templates/actor/panel/psy-panel.hbs}}
                {{> systems/rogue-trader/templates/actor/panel/psychic-powers-panel.hbs}}
                {{> systems/rogue-trader/templates/actor/panel/navigator-powers-panel.hbs}}
            </div>

            {{!-- NOTES TAB --}}
            <div class="tab rt-tab" data-group="primary" data-tab="notes">
                <div class="rt-panel spacer rt-grid-col-6 rt-grid-row-2">
                    <h1 class="rt-panel-header">{{localize "RT.NPC.Description"}}</h1>
                    <textarea class="rt-header__textarea rt-npc-notes" name="system.description" rows="8">{{system.description}}</textarea>
                </div>
                <div class="rt-panel spacer rt-grid-col-6 rt-grid-row-1">
                    <h1 class="rt-panel-header">{{localize "RT.NPC.Tactics"}}</h1>
                    <textarea class="rt-header__textarea" name="system.tactics" rows="4">{{system.tactics}}</textarea>
                </div>
            </div>
        </section>
    </form>
</div>
