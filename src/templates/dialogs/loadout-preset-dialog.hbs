{{!-- Loadout Preset Dialog --}}
{{!-- Dialog for managing equipment loadout presets --}}

<div class="rt-loadout-preset-content">
    {{#if hasPresets}}
    <div class="rt-preset-list">
        {{#each presets as |preset|}}
        <div class="rt-preset-card">
            <div class="rt-preset-header">
                <div class="rt-preset-icon">
                    <i class="fas fa-layer-group"></i>
                </div>
                <div class="rt-preset-info">
                    <h3 class="rt-preset-name">{{preset.name}}</h3>
                    <span class="rt-preset-timestamp">{{#if preset.timestamp}}Saved{{else}}Unknown date{{/if}}</span>
                </div>
            </div>
            
            <div class="rt-preset-details">
                <div class="rt-preset-stat">
                    <i class="fas fa-check-circle"></i>
                    <span>{{preset.loadout.equipped.length}} Equipped</span>
                </div>
                <div class="rt-preset-stat">
                    <i class="fas fa-bolt"></i>
                    <span>{{preset.loadout.activated.length}} Active</span>
                </div>
            </div>

            {{#if preset.loadout.equipped.length}}
            <div class="rt-preset-items">
                <div class="rt-preset-items-title">Equipped Items:</div>
                <div class="rt-preset-items-list">
                    {{#each preset.loadout.equipped as |item|}}
                    <div class="rt-preset-item">
                        <img src="{{item.img}}" alt="{{item.name}}" class="rt-preset-item-img" />
                        <span class="rt-preset-item-name">{{item.name}}</span>
                    </div>
                    {{/each}}
                </div>
            </div>
            {{/if}}

            <div class="rt-preset-actions">
                <button type="button" class="rt-preset-btn rt-preset-load" data-action="loadPreset" data-preset-id="{{preset.id}}" title="Load this preset">
                    <i class="fas fa-download"></i>
                    Load
                </button>
                <button type="button" class="rt-preset-btn rt-preset-rename" data-action="renamePreset" data-preset-id="{{preset.id}}" title="Rename preset">
                    <i class="fas fa-edit"></i>
                </button>
                <button type="button" class="rt-preset-btn rt-preset-export" data-action="exportPreset" data-preset-id="{{preset.id}}" title="Export to file">
                    <i class="fas fa-file-export"></i>
                </button>
                <button type="button" class="rt-preset-btn rt-preset-delete" data-action="deletePreset" data-preset-id="{{preset.id}}" title="Delete preset">
                    <i class="fas fa-trash"></i>
                </button>
            </div>
        </div>
        {{/each}}
    </div>
    {{else}}
    <div class="rt-preset-empty">
        <i class="fas fa-layer-group rt-preset-empty-icon"></i>
        <h3>No Presets Yet</h3>
        <p>Save your current equipment setup as a preset to quickly switch between loadouts.</p>
        <p class="rt-preset-empty-hint">
            <i class="fas fa-lightbulb"></i>
            Try creating presets like "Combat", "Social", "Exploration", or "Stealth"
        </p>
    </div>
    {{/if}}

    {{!-- Import Button --}}
    <div class="rt-preset-footer">
        <button type="button" class="rt-preset-import-btn" data-action="importPreset">
            <i class="fas fa-file-import"></i>
            Import Preset from File
        </button>
    </div>
</div>
